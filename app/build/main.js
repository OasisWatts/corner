/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/back/database/StatementBoard.ts":
/*!*********************************************!*\
  !*** ./src/back/database/StatementBoard.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("var _interopRequireDefault=__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports, \"__esModule\", ({value:true}));exports.StatementBoard=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"@babel/runtime/helpers/toConsumableArray\"));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"@babel/runtime/helpers/asyncToGenerator\"));var _classCallCheck2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"@babel/runtime/helpers/createClass\"));var _connection=_interopRequireDefault(__webpack_require__(/*! back/database/connection */ \"./src/back/database/connection.ts\"));var _board=_interopRequireDefault(__webpack_require__(/*! back/model/board */ \"./src/back/model/board.ts\"));var _comment=_interopRequireDefault(__webpack_require__(/*! back/model/comment */ \"./src/back/model/comment.ts\"));var _user=_interopRequireDefault(__webpack_require__(/*! back/model/user */ \"./src/back/model/user.ts\"));var _setting=__webpack_require__(/*! back/util/setting */ \"./src/back/util/setting.ts\");var _utility=__webpack_require__(/*! back/util/utility */ \"./src/back/util/utility.ts\");var _logger=__webpack_require__(/*! back/util/logger */ \"./src/back/util/logger.ts\");var _applicationCode=__webpack_require__(/*! common/applicationCode */ \"./src/common/applicationCode.ts\");var _tag=_interopRequireDefault(__webpack_require__(/*! back/model/tag */ \"./src/back/model/tag.ts\"));var _url2=_interopRequireDefault(__webpack_require__(/*! back/model/url */ \"./src/back/model/url.ts\"));var _urlTagCount=_interopRequireDefault(__webpack_require__(/*! back/model/urlTagCount */ \"./src/back/model/urlTagCount.ts\"));var _userTagCount=_interopRequireDefault(__webpack_require__(/*! back/model/userTagCount */ \"./src/back/model/userTagCount.ts\"));var _userUrlCount=_interopRequireDefault(__webpack_require__(/*! back/model/userUrlCount */ \"./src/back/model/userUrlCount.ts\"));var url=__webpack_require__(/*! url */ \"url\");var MAX_CONTENTS_LEN=100;var MAX_LIST_LEN=_setting.SETTINGS.board.listLen;var TAG_DISPLAY_CNT=_setting.SETTINGS.board.tagDisplayCnt;var MAX_TAG_LEN=_setting.SETTINGS.board.tagLenLim;var MAX_TAG_CNT=_setting.SETTINGS.board.tagCountLim;var StatementBoard=function(){function StatementBoard(){(0,_classCallCheck2.default)(this,StatementBoard);}(0,_createClass2.default)(StatementBoard,null,[{key:\"getMyBoards\",value:function(){var _getMyBoards=(0,_asyncToGenerator2.default)(function*(startId,userKey){var whereQuery=`where writer = ${userKey} ${startId?`and id < ${startId}`:\"\"}`;var fromQuery=\"from `board`\";var orderQuery=`order by id desc limit ${MAX_LIST_LEN}`;var selectAndQuery=\"\";var bList=yield _connection.default.Manager.query(`select *, (select count(id) from \\`comment\\` where boardId = a.id) as comNum ${selectAndQuery}\n                              from ( select id ${fromQuery} ${whereQuery} ${orderQuery}\n                              ) b join \\`board\\` a on b.id = a.id;`).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.board_find_failed).put(\"getMyBoards\").put(err).out();});return bList;});function getMyBoards(_x,_x2){return _getMyBoards.apply(this,arguments);}return getMyBoards;}()},{key:\"getMyUpBoards\",value:function(){var _getMyUpBoards=(0,_asyncToGenerator2.default)(function*(startId,userKey){var whereQuery=\"\";var fromQuery=`from (\n                  select boardId from \\`user_uped_boards_board\\`\n                  where userKey = ${userKey}${startId?` and boardId < ${startId}`:\"\"}\n                  order by boardId desc limit ${MAX_LIST_LEN}) c join \\`board\\` d on d.id = c.boardId`;var orderQuery=`order by id desc limit ${MAX_LIST_LEN}`;var selectAndQuery=\"\";var bList=yield _connection.default.Manager.query(`select *, (select count(id) from \\`comment\\` where boardId = a.id) as comNum ${selectAndQuery}\n                              from ( select id ${fromQuery} ${whereQuery} ${orderQuery}\n                              ) b join \\`board\\` a on b.id = a.id;`).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.board_find_failed).put(\"getMyUpBoards\").put(err).out();});bList.forEach(function(b,idx){bList[idx].uped=1;});return bList;});function getMyUpBoards(_x3,_x4){return _getMyUpBoards.apply(this,arguments);}return getMyUpBoards;}()},{key:\"getUrlBoards\",value:function(){var _getUrlBoards=(0,_asyncToGenerator2.default)(function*(startId,userKey,blockeds,url){var selectAndQuery=`, (select count(*) from \\`user_uped_boards_board\\` where userKey = ${userKey} and boardId = a.id) as uped`;var fromQuery=\"from \\`board\\`\";var orderQuery=`order by id desc limit ${MAX_LIST_LEN}`;var urlObj=yield _connection.default.Manager.findOne(_url2.default,{where:{name:url},select:[\"id\"]}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.url_find_failed).put(\"getUrlBoards\").put(err).out();});if(urlObj){var whereQuery=`where urlId = ${urlObj.id} ${startId?` and id < ${startId}`:\"\"}`;var bList=yield _connection.default.Manager.query(`select *, (select count(id) from \\`comment\\` where boardId = a.id) as comNum ${selectAndQuery}\n                                    from ( select id ${fromQuery} ${whereQuery} ${orderQuery}\n                                    ) b join \\`board\\` a on b.id = a.id;`).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.board_find_failed).put(\"getUrlBoards\").put(err).out();});var bListFiltered=bList.filter(function(b){return!blockeds.includes(b.writer);});return bListFiltered.sort(function(b1,b2){return b2.up-b1.up;});}else return[];});function getUrlBoards(_x5,_x6,_x7,_x8){return _getUrlBoards.apply(this,arguments);}return getUrlBoards;}()},{key:\"getTagBoards\",value:function(){var _getTagBoards=(0,_asyncToGenerator2.default)(function*(startId,userKey,blockeds,tag){var tagObj=yield _connection.default.Manager.findOne(_tag.default,{where:{name:tag},select:[\"id\"]}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.tag_find_failed).put(\"getTagBoards\").put(err).out();});if(tagObj){var tagId=tagObj.id;var selectAndQuery=`, (select count(*) from \\`user_uped_boards_board\\` where userKey = ${userKey} and boardId = a.id) as uped`;var joinQuery=`from (select boardId from \\`board_tags_tag\\` where tagId = ${tagId} ${startId?` and boardId < ${startId}`:\"\"} order by boardId desc limit ${MAX_LIST_LEN} ) b join corner.board a on b.boardId = a.id`;var bList=yield _connection.default.Manager.query(`select *, (select count(id) from \\`comment\\` where boardId = a.id) as comNum ${selectAndQuery}\n                              ${joinQuery};`).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.board_find_failed).put(\"getTagBoards\").put(err).out();});var bListFiltered=bList.filter(function(b){return!blockeds.includes(b.writer);});return bListFiltered.sort(function(b1,b2){return b2.up-b1.up;});}else return[];});function getTagBoards(_x9,_x10,_x11,_x12){return _getTagBoards.apply(this,arguments);}return getTagBoards;}()},{key:\"getBoards\",value:function(){var _getBoards=(0,_asyncToGenerator2.default)(function*(startId,userKey,blockeds){var whereQuery=startId?`where id < ${startId}`:\"\";var fromQuery=\"from \\`board\\`\";var orderQuery=`order by id desc limit ${MAX_LIST_LEN*5}`;var selectAndQuery=`, (select count(*) from \\`user_uped_boards_board\\` where userKey = ${userKey} and boardId = a.id) as uped`;var bList=yield _connection.default.Manager.query(`select *, (select count(id) from \\`comment\\` where boardId = a.id) as comNum ${selectAndQuery}\n                              from ( select id ${fromQuery} ${whereQuery} ${orderQuery}\n                              ) b join \\`board\\` a on b.id = a.id;`).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.board_find_failed).put(\"getBoards\").put(err).out();});var bListFiltered=bList.filter(function(b){return!blockeds.includes(b.writer);});if(bListFiltered.length>MAX_LIST_LEN)return bListFiltered.sort(function(b1,b2){return b2.up-b1.up;}).slice(MAX_LIST_LEN);else return bListFiltered.sort(function(b1,b2){return b2.up-b1.up;});});function getBoards(_x13,_x14,_x15){return _getBoards.apply(this,arguments);}return getBoards;}()},{key:\"getSearchBoards\",value:function(){var _getSearchBoards=(0,_asyncToGenerator2.default)(function*(startId,userKey,blockeds,search){if(search[0]===\"#\")return this.getTagBoards(startId,userKey,blockeds,search);else{var whereQuery=(startId?`where id < ${startId} and `:\"where \")+`contents like \\\"%${search}%\\\"`;var fromQuery=\"from \\`board\\`\";var orderQuery=`order by id desc limit ${MAX_LIST_LEN}`;var selectAndQuery=`, (select count(*) from \\`user_uped_boards_board\\` where userKey = ${userKey} and boardId = a.id) as uped`;var bList=yield _connection.default.Manager.query(`select *, (select count(id) from \\`comment\\` where boardId = a.id) as comNum ${selectAndQuery}\n                                    from ( select id ${fromQuery} ${whereQuery} ${orderQuery}\n                                    ) b join \\`board\\` a on b.id = a.id;`).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.board_find_failed).put(\"getSearchBoards\").put(err).out();});var bListFiltered=bList.filter(function(b){return!blockeds.includes(b.writer);});return bListFiltered.sort(function(b1,b2){return b2.up-b1.up;});}});function getSearchBoards(_x16,_x17,_x18,_x19){return _getSearchBoards.apply(this,arguments);}return getSearchBoards;}()},{key:\"getUserBoards\",value:function(){var _getUserBoards=(0,_asyncToGenerator2.default)(function*(startId,userKey,searchUser){var whereQuery=(startId?`where id < ${startId} and `:\"where \")+`writer = ${searchUser}`;var fromQuery=\"from \\`board\\`\";var orderQuery=`order by id desc limit ${MAX_LIST_LEN}`;var selectAndQuery=`, (select count(*) from \\`user_uped_boards_board\\` where userKey = ${userKey} and boardId = a.id) as uped`;var bList=yield _connection.default.Manager.query(`select *, (select count(id) from \\`comment\\` where boardId = a.id) as comNum ${selectAndQuery}\n                                    from ( select id ${fromQuery} ${whereQuery} ${orderQuery}\n                                    ) b join \\`board\\` a on b.id = a.id;`).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.board_find_failed).put(\"getUserBoards\").put(err).out();});console.log(\"bList\",bList);return bList.sort(function(b1,b2){return b2.up-b1.up;});});function getUserBoards(_x20,_x21,_x22){return _getUserBoards.apply(this,arguments);}return getUserBoards;}()},{key:\"getBoard\",value:function(){var _getBoard=(0,_asyncToGenerator2.default)(function*(boardId,userKey){var whereQuery=`where id = ${boardId}`;var fromQuery=\"from `board`\";var selectAndQuery=`, (select count(*) from \\`user_uped_boards_board\\` where userKey = ${userKey} and boardId = ${boardId}) as uped`;var boards=yield _connection.default.Manager.query(`select *, (select count(id) from \\`comment\\` where boardId = ${boardId}) as comNum ${selectAndQuery}\n                              ${fromQuery} ${whereQuery};`).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.board_find_failed).put(\"getBoard_0\").put(err).out();});var boardTags=yield _connection.default.Manager.findOne(_board.default,{select:[\"tags\"],relations:[\"tags\"],where:{id:boardId}}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.board_find_failed).put(\"getBoard_1\").put(err).out();});var board=boards[0];if(boardTags){var tags=boardTags.tags.filter(function(t){return!t.isUrl;}).map(function(t){return t.name;});var _url=boardTags.tags.filter(function(t){return t.isUrl;});board.tags=tags;if(_url.length)board.url=_url[0].name;}return board;});function getBoard(_x23,_x24){return _getBoard.apply(this,arguments);}return getBoard;}()},{key:\"categorizedBoardList\",value:function(){var _categorizedBoardList=(0,_asyncToGenerator2.default)(function*(startId,categ,userKey,url,tag,search,searchUser){var user=yield _connection.default.Manager.findOne(_user.default,{relations:[\"blockeds\"],where:{key:userKey}}).catch(function(err){_logger.Logger.errorApp(_applicationCode.ErrorCode.user_find_failed).put(\"categorizedBoardList_0\").put(err).out();});if(user){switch(categ){case _applicationCode.BOARD_CATEGORY.myBoards:return yield this.getMyBoards(startId,userKey);case _applicationCode.BOARD_CATEGORY.myUpBoards:return yield this.getMyUpBoards(startId,userKey);case _applicationCode.BOARD_CATEGORY.tagBoards:if(tag)return yield this.getTagBoards(startId,userKey,user.blockeds.map(function(b){return b.key;}),tag);else return null;case _applicationCode.BOARD_CATEGORY.urlBoards:if(url)return yield this.getUrlBoards(startId,userKey,user.blockeds.map(function(b){return b.key;}),url);else return null;case _applicationCode.BOARD_CATEGORY.boards:return yield this.getBoards(startId,userKey,user.blockeds.map(function(b){return b.key;}));case _applicationCode.BOARD_CATEGORY.searchBoards:if(search)return yield this.getSearchBoards(startId,userKey,user.blockeds.map(function(b){return b.key;}),search);else return null;case _applicationCode.BOARD_CATEGORY.userBoards:if(searchUser)return yield this.getUserBoards(startId,userKey,searchUser);else return null;default:return null;}}else{_logger.Logger.errorApp(_applicationCode.ErrorCode.user_find_failed).put(\"categorizedBoardList_1\").out();return;}});function categorizedBoardList(_x25,_x26,_x27,_x28,_x29,_x30,_x31){return _categorizedBoardList.apply(this,arguments);}return categorizedBoardList;}()},{key:\"boardList\",value:function(){var _boardList=(0,_asyncToGenerator2.default)(function*(startId,categ,userKey,url,tag,search,searchUser){var _this=this;return new Promise(function(){var _ref=(0,_asyncToGenerator2.default)(function*(resolve,_){var bList=yield _this.categorizedBoardList(startId,categ,userKey,url,tag,search,searchUser);if(bList){var _boardList2=[];var where=[];var endOfList=false;if(bList.length===0){resolve({boardList:[],endId:startId,end:true});return;}else if(bList.length<MAX_LIST_LEN){endOfList=true;}var endId=bList[bList.length-1].id;for(var item of bList){where.push({key:item.writer});}_connection.default.Manager.find(_user.default,{where:where,relations:[\"followers\"]}).then(function(r){var userTable=(0,_utility.reduceToTable)(r,function(v){return v;},function(v){return v.key;});for(var _item of bList){var u=userTable[_item.writer];_boardList2.push({id:_item.id,writer:u.name,writerId:u.key,writerImage:u.image,writerFollowed:u.followers.some(function(f){return f.key===userKey;}),contents:_item.contents.slice(0,MAX_CONTENTS_LEN),numComment:_item.comNum,date:String(_item.date),up:_item.up,uped:_item.uped,updated:_item.updated});}_logger.Logger.passApp(\"boardList\").out();resolve({boardList:_boardList2,endId:endId,end:endOfList});}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.user_find_failed).put(\"boardList\").put(err).out();});}else{_logger.Logger.errorApp(_applicationCode.ErrorCode.board_find_failed).put(\"boardList\").out();}});return function(_x39,_x40){return _ref.apply(this,arguments);};}());});function boardList(_x32,_x33,_x34,_x35,_x36,_x37,_x38){return _boardList.apply(this,arguments);}return boardList;}()},{key:\"boardSelect\",value:function boardSelect(boardId,userKey){var _this2=this;return new Promise(function(resolve,_){_this2.getBoard(boardId,userKey).then(function(board){if(board){_connection.default.Manager.findOne(_user.default,{where:{key:board==null?void 0:board.writer},relations:[\"followers\"]}).then(function(user){_connection.default.Manager.query(`select comment.id, comment.contents, comment.up, comment.writer, comment.date\n                        , (select count(*) from \\`user_uped_comments_comment\\` where userKey = ${userKey} and commentId = comment.id) as uped\n                              from (\n                                    select id\n                                    from \\`board\\`\n                                    where board.id = ${boardId}\n                              ) board left join \\`comment\\` comment on board.id = comment.boardId order by comment.id desc limit ${MAX_LIST_LEN};`).then(function(cList){var _cList$;var where=[];if(((_cList$=cList[0])==null?void 0:_cList$.id)===null){resolve({id:boardId,writer:user==null?void 0:user.name,writerId:user==null?void 0:user.key,writerImage:user==null?void 0:user.image,writerFollowed:(user==null?void 0:user.followers.some(function(f){return f.key===userKey;}))||false,date:String(board==null?void 0:board.date),updated:board==null?void 0:board.updated,up:board==null?void 0:board.up,numComment:board==null?void 0:board.comNum,uped:board==null?void 0:board.uped,contents:board==null?void 0:board.contents.slice(0,MAX_CONTENTS_LEN),comments:[],endId:0,end:true,tags:board==null?void 0:board.tags,url:board==null?void 0:board.url});return;}var endOfList=false;var endId=cList[cList.length-1].id;if(cList.length<MAX_LIST_LEN){endOfList=true;}for(var c of cList){where.push({key:c.writer});}_connection.default.Manager.find(_user.default,{where:where,relations:[\"followers\"]}).then(function(r){var userTable=(0,_utility.reduceToTable)(r,function(v){return v;},function(v){return v.key;});var comments=[];for(var _c of cList){var u=userTable[_c.writer];comments.push({id:_c.id,date:_c.date,contents:_c.contents.slice(0,MAX_CONTENTS_LEN),up:_c.up,uped:_c.uped,updated:_c.updated,writer:u.name,writerId:u.key,writerImage:u.image,writerFollowed:u.followers.some(function(f){return f.key===userKey;})});}resolve({id:boardId,writer:user==null?void 0:user.name,writerId:user==null?void 0:user.key,writerImage:user==null?void 0:user.image,writerFollowed:(user==null?void 0:user.followers.some(function(f){return f.key===userKey;}))||false,date:board.date,updated:board.updated,up:board.up,numComment:board.comNum,uped:board.uped,contents:board.contents.slice(0,MAX_CONTENTS_LEN),comments:comments,endId:endId,end:endOfList,tags:board.tags,url:board.url});}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.user_find_failed).put(\"boardSelect_0\").put(err).out();});}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.board_find_failed).put(\"boardSelect_0\").put(err).out();});}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.user_find_failed).put(\"boardSelect_1\").put(err).out();});}else _logger.Logger.errorApp(_applicationCode.ErrorCode.board_find_failed).put(\"boardSelect_1\").out();}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.board_find_failed).put(\"boardSelect_2\").put(err).out();});});}},{key:\"commentList\",value:function commentList(boardId,commentStartId,userKey){return new Promise(function(resolve,_){_connection.default.Manager.query(`select comment.id, comment.contents, comment.up, comment.writer\n                              , (select count(*) from \\`user_uped_comments_comment\\` where userKey = ${userKey} and commentId = comment.id) as uped\n                              from (\n                                    select id\n                                    from \\`board\\`\n                                    where board.id = ${boardId}\n                              ) board left join \\`comment\\` comment on board.id = comment.boardId where ${commentStartId?`comment.id < ${commentStartId}`:\"\"} order by comment.id desc limit ${MAX_LIST_LEN};`).then(function(cList){var where=[];var endOfList=false;if(cList.length===0){resolve({comments:[],endId:commentStartId,end:true});return;}else if(cList.length<MAX_LIST_LEN){endOfList=true;}for(var c of cList){where.push({key:c.writer});}var endId=cList[cList.length-1].id;_connection.default.Manager.find(_user.default,{where:where,relations:[\"followers\"]}).then(function(r){var userTable=(0,_utility.reduceToTable)(r,function(v){return v;},function(v){return v.key;});var comments=[];for(var _c2 of cList){var u=userTable[_c2.writer];comments.push({id:_c2.id,date:_c2.date,contents:_c2.contents.slice(0,MAX_CONTENTS_LEN),up:_c2.up,uped:_c2.uped,updated:_c2.updated,writer:u.name,writerId:u.key,writerImage:u.image,writerFollowed:u.followers.some(function(f){return f.key===userKey;})});}resolve({comments:comments[0].id===null?[]:comments,endId:endId,end:endOfList});}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.user_find_failed).put(\"commentList\").put(err).out();});}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.board_find_failed).put(\"commentList\").put(err).out();});});}},{key:\"boardInsert\",value:function(){var _boardInsert=(0,_asyncToGenerator2.default)(function*(writerKey,contents,hashTag,url_,hostname_){var hashTags_=hashTag.split(\"#\").map(function(t){return{tag:t.replace(/\\n|\\s/g,\"\"),isUrl:false};}).filter(function(t){return t.tag.length;});var hashTags=Array.from(new Set(hashTags_));var hashTagEntities=[];var promisesTags=[];var promisesFunc=[];if(hashTags.length>MAX_TAG_CNT)return;if(hashTags.some(function(t){return t.tag.length>MAX_TAG_LEN;}))return;var urlO_;if(url_)hashTags.push({tag:url_,isUrl:true});if(hostname_)hashTags.push({tag:hostname_,isUrl:false});return new Promise(function(){var _ref2=(0,_asyncToGenerator2.default)(function*(resolve,_){if(url_){var urlO=yield _connection.default.Manager.findOne(_url2.default,{where:{name:url_}});if(urlO){urlO_=urlO;var p=new Promise(function(res,_){return _connection.default.Manager.increment(_url2.default,{name:url_},\"count\",1).then(function(){return res(urlO);});});var p0=new Promise(function(res,_){return _connection.default.Manager.increment(_userUrlCount.default,{user:{key:writerKey},url:urlO},\"count\",1).then(function(){return res(true);});});promisesFunc.push(p,p0);}else{var parsedUrl=url.parse(url_);var _urlO=yield _connection.default.Manager.save(_url2.default,{name:url_,count:1,isHost:parsedUrl.path===\"\"});urlO_=_urlO;var _p=new Promise(function(res,_){return _connection.default.Manager.save(_userUrlCount.default,{user:{key:writerKey},url:_urlO,count:1}).then(function(){return res(_urlO);});});promisesFunc.push(_p);}yield Promise.all(promisesFunc);var _loop=function*_loop(tagObj){var pt=new Promise(function(){var _ref3=(0,_asyncToGenerator2.default)(function*(res,_){var tagO=yield _connection.default.Manager.findOne(_tag.default,{where:{name:tagObj.tag}});if(tagO){hashTagEntities.push(tagO);var promisesInside=[];var pi=new Promise(function(res,_){return _connection.default.Manager.increment(_tag.default,{name:tagObj.tag},\"count\",1).then(function(){return res(true);});});var pi0=new Promise(function(res,_){var _urlO_;return _connection.default.Manager.increment(_urlTagCount.default,{url:{id:(_urlO_=urlO_)==null?void 0:_urlO_.id},tag:{id:tagO.id}},\"count\",1).then(function(){return res(true);}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.urltagcount_update_failed).put(\"boardInsert_0\").put(err).out();});});promisesInside.push(pi,pi0);yield Promise.all(promisesInside);res(true);}else{var _urlO_2;var tagO_=yield _connection.default.Manager.save(_tag.default,{name:tagObj.tag,isUrl:tagObj.isUrl,count:1});hashTagEntities.push(tagO_);_connection.default.Manager.save(_urlTagCount.default,{url:{id:(_urlO_2=urlO_)==null?void 0:_urlO_2.id},tag:{id:tagO_.id},count:1}).then(function(){return res(true);}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.urltagcount_save_failed).put(\"boardInsert_1\").put(err).out();});}});return function(_x48,_x49){return _ref3.apply(this,arguments);};}()).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.tag_find_failed).put(\"boardInsert\").put(err).out();});promisesTags.push(pt);};for(var tagObj of hashTags){yield*_loop(tagObj);}}else{var _loop2=function*_loop2(_tagObj){var pt=new Promise(function(){var _ref4=(0,_asyncToGenerator2.default)(function*(res,_){var tagO=yield _connection.default.Manager.findOne(_tag.default,{where:{name:_tagObj.tag}});if(tagO){hashTagEntities.push(tagO);_connection.default.Manager.increment(_tag.default,{name:_tagObj.tag},\"count\",1).then(function(){return res(true);}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.tag_update_failed).put(\"boardInsert\").put(err).out();});}else{_connection.default.Manager.save(_tag.default,{name:_tagObj.tag,isUrl:_tagObj.isUrl,count:1}).then(function(tagO){hashTagEntities.push(tagO);res(true);}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.tag_save_failed).put(\"boardInsert\").put(err).out();});}});return function(_x50,_x51){return _ref4.apply(this,arguments);};}());promisesTags.push(pt);};for(var _tagObj of hashTags){yield*_loop2(_tagObj);}}yield Promise.all(promisesTags);var promisesUserTag=[];var _loop3=function*_loop3(hE){promisesUserTag.push(new Promise(function(){var _ref5=(0,_asyncToGenerator2.default)(function*(resolve,_){var userTagCountExist=yield _connection.default.Manager.findOne(_userTagCount.default,{where:{user:{key:writerKey},tag:{id:hE.id}}});if(userTagCountExist){yield _connection.default.Manager.increment(_userTagCount.default,{user:{key:writerKey},tag:{id:hE.id}},\"count\",1);}else yield _connection.default.Manager.save(_userTagCount.default,{user:{key:writerKey},tag:{id:hE.id},count:1});resolve(true);});return function(_x52,_x53){return _ref5.apply(this,arguments);};}()));};for(var hE of hashTagEntities){yield*_loop3(hE);}yield Promise.all(promisesUserTag);if(urlO_)yield _connection.default.Manager.save(_board.default,{contents:contents.slice(0,MAX_CONTENTS_LEN),writer:writerKey,tags:hashTagEntities,url:urlO_});else yield _connection.default.Manager.save(_board.default,{contents:contents.slice(0,MAX_CONTENTS_LEN),writer:writerKey,tags:hashTagEntities});_logger.Logger.passApp(\"boardEnroll all\").out();resolve(true);});return function(_x46,_x47){return _ref2.apply(this,arguments);};}());});function boardInsert(_x41,_x42,_x43,_x44,_x45){return _boardInsert.apply(this,arguments);}return boardInsert;}()},{key:\"boardUpdate\",value:function boardUpdate(boardId,updaterKey,contents,hashTag){var hashTags_=hashTag.split(\"#\").map(function(t){return{tag:t.replace(/\\n|\\s/g,\"\"),isUrl:false};}).filter(function(t){return t.tag.length;});var hashTags=Array.from(new Set(hashTags_));var hashTagEntities=[];var promisesTags=[];if(hashTags.length>MAX_TAG_CNT)return;if(hashTags.some(function(t){return t.tag.length>MAX_TAG_LEN;}))return;return new Promise(function(){var _ref6=(0,_asyncToGenerator2.default)(function*(resolve,_){_connection.default.Manager.findOne(_board.default,{where:{id:boardId,writer:updaterKey},relations:[\"url\",\"tags\"]}).then(function(){var _ref7=(0,_asyncToGenerator2.default)(function*(board){if(board){if(board.url){var _loop4=function*_loop4(tagObj){var pt=new Promise(function(){var _ref8=(0,_asyncToGenerator2.default)(function*(res,_){var tagO=yield _connection.default.Manager.findOne(_tag.default,{where:{name:tagObj.tag}});var promisesInside=[];if(tagO){hashTagEntities.push(tagO);if(!board.tags.some(function(t){return t.name===tagO.name;})){var pi=new Promise(function(res,_){return _connection.default.Manager.increment(_tag.default,{name:tagObj.tag},\"count\",1).then(function(){return res(true);});}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.tag_update_failed).put(\"boardInsert\").put(err).out();});var pi0=new Promise(function(res,_){var _board$url;return _connection.default.Manager.increment(_urlTagCount.default,{url:{id:(_board$url=board.url)==null?void 0:_board$url.id},tag:{id:tagO.id}},\"count\",1).then(function(){return res(true);}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.urltagcount_update_failed).put(\"boardInsert_0\").put(err).out();});});promisesInside.push(pi,pi0);}yield Promise.all(promisesInside);res(true);}else{var _board$url2;var tagO_=yield _connection.default.Manager.save(_tag.default,{name:tagObj.tag,isUrl:tagObj.isUrl,count:1});hashTagEntities.push(tagO_);_connection.default.Manager.save(_urlTagCount.default,{url:{id:(_board$url2=board.url)==null?void 0:_board$url2.id},tag:{id:tagO_.id},count:1}).then(function(){res(true);}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.urltagcount_save_failed).put(\"boardInsert_1\").put(err).out();});}});return function(_x57,_x58){return _ref8.apply(this,arguments);};}()).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.tag_find_failed).put(\"boardInsert\").put(err).out();});promisesTags.push(pt);};for(var tagObj of hashTags){yield*_loop4(tagObj);}var _loop5=function*_loop5(_tagObj2){var pt=new Promise(function(){var _ref9=(0,_asyncToGenerator2.default)(function*(res,_){var tagO=yield _connection.default.Manager.findOne(_tag.default,{where:{name:_tagObj2.name}});var promisesInside=[];if(tagO&&!hashTags.some(function(_ref10){var tag=_ref10.tag,isUrl=_ref10.isUrl;return tag===tagO.name;})){if(tagO.count>1){var pi=new Promise(function(res,_){return _connection.default.Manager.decrement(_tag.default,{name:_tagObj2.name},\"count\",1).then(function(){return res(true);});});var pi0=new Promise(function(res,_){var _board$url3;return _connection.default.Manager.decrement(_urlTagCount.default,{url:{id:(_board$url3=board.url)==null?void 0:_board$url3.id},tag:{id:tagO.id}},\"count\",1).then(function(){return res(true);}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.urltagcount_update_failed).put(\"boardInsert_0\").put(err).out();});});promisesInside.push(pi,pi0);yield Promise.all(promisesInside);res(true);}else{var _pi=new Promise(function(res,_){return _connection.default.Manager.decrement(_tag.default,{name:_tagObj2.name},\"count\",1).then(function(){return res(true);});});var _pi2=new Promise(function(res,_){var _board$url4;return _connection.default.Manager.delete(_urlTagCount.default,{url:{id:(_board$url4=board.url)==null?void 0:_board$url4.id},tag:{id:tagO.id}}).then(function(){return res(true);}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.urltagcount_update_failed).put(\"boardInsert_0\").put(err).out();});});promisesInside.push(_pi,_pi2);yield Promise.all(promisesInside);res(true);}}else res(true);});return function(_x59,_x60){return _ref9.apply(this,arguments);};}());promisesTags.push(pt);};for(var _tagObj2 of board.tags){yield*_loop5(_tagObj2);}}else{var _loop6=function*_loop6(_tagObj3){var pt=new Promise(function(){var _ref11=(0,_asyncToGenerator2.default)(function*(res,_){var tagO=yield _connection.default.Manager.findOne(_tag.default,{where:{name:_tagObj3.tag}});if(tagO){hashTagEntities.push(tagO);if(!board.tags.includes(tagO)){_connection.default.Manager.increment(_tag.default,{name:_tagObj3.tag},\"count\",1).then(function(){return res(true);}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.tag_update_failed).put(\"boardInsert\").put(err).out();});}}else{_connection.default.Manager.save(_tag.default,{name:_tagObj3.tag,isUrl:_tagObj3.isUrl,count:1}).then(function(tagO){hashTagEntities.push(tagO);res(true);}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.tag_save_failed).put(\"boardInsert\").put(err).out();});}});return function(_x61,_x62){return _ref11.apply(this,arguments);};}());promisesTags.push(pt);};for(var _tagObj3 of hashTags){yield*_loop6(_tagObj3);}var _loop7=function*_loop7(_tagObj4){var pt=new Promise(function(){var _ref12=(0,_asyncToGenerator2.default)(function*(res,_){_connection.default.Manager.findOne(_tag.default,{where:{id:_tagObj4.id}}).then(function(tagO){if(tagO&&!hashTags.some(function(_ref13){var tag=_ref13.tag,isUrl=_ref13.isUrl;return tag===tagO.name;})){_connection.default.Manager.decrement(_tag.default,{id:_tagObj4.id},\"count\",1).then(function(){return res(true);}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.tag_update_failed).put(\"boardInsert\").put(err).out();});}else res(true);}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.tag_find_failed).put(\"boardInsert\").put(err).out();});});return function(_x63,_x64){return _ref12.apply(this,arguments);};}());promisesTags.push(pt);};for(var _tagObj4 of board.tags){yield*_loop7(_tagObj4);}}yield Promise.all(promisesTags);var promisesUserTag=[];var _loop8=function*_loop8(hE){promisesUserTag.push(new Promise(function(){var _ref14=(0,_asyncToGenerator2.default)(function*(resolve,_){var userTagCountExist=yield _connection.default.Manager.findOne(_userTagCount.default,{where:{user:{key:board.writer},tag:{id:hE.id}}});if(userTagCountExist){if(!board.tags.some(function(t){return t.name===hE.name;}))yield _connection.default.Manager.increment(_userTagCount.default,{user:{key:board.writer},tag:{id:hE.id}},\"count\",1);}else yield _connection.default.Manager.save(_userTagCount.default,{user:{key:board.writer},tag:{id:hE.id},count:1});resolve(true);});return function(_x65,_x66){return _ref14.apply(this,arguments);};}()));};for(var hE of hashTagEntities){yield*_loop8(hE);}var _loop9=function*_loop9(_tagObj5){promisesUserTag.push(new Promise(function(){var _ref15=(0,_asyncToGenerator2.default)(function*(resolve,_){var userTagCountExist=yield _connection.default.Manager.findOne(_userTagCount.default,{where:{user:{key:board.writer},tag:{id:_tagObj5.id}}});if(userTagCountExist&&!hashTagEntities.some(function(tagEn){return tagEn.id===_tagObj5.id;})){if(userTagCountExist.count>1){yield _connection.default.Manager.decrement(_userTagCount.default,{user:{key:board.writer},tag:{id:userTagCountExist.id}},\"count\",1);}else{yield _connection.default.Manager.delete(_userTagCount.default,{user:{key:board.writer},tag:{id:userTagCountExist.id}});}}resolve(true);});return function(_x67,_x68){return _ref15.apply(this,arguments);};}()));};for(var _tagObj5 of board.tags){yield*_loop9(_tagObj5);}yield Promise.all(promisesUserTag);_connection.default.Manager.save(_board.default,{id:boardId,writer:updaterKey,contents:contents.slice(0,MAX_CONTENTS_LEN),updated:true,tags:hashTagEntities}).then(function(r){_logger.Logger.passApp(\"boardUpdate\").out();resolve(true);}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.board_update_failed).put(\"boardUpdate_1\").put(err).out();});}else _logger.Logger.errorApp(_applicationCode.ErrorCode.board_find_failed).put(\"boardUpdate_0\").out();});return function(_x56){return _ref7.apply(this,arguments);};}()).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.board_find_failed).put(\"boardUpdate_1\").put(err).out();});});return function(_x54,_x55){return _ref6.apply(this,arguments);};}());}},{key:\"boardDelete\",value:function boardDelete(boardId,userKey){return new Promise(function(resolve,_){_connection.default.Manager.findOne(_board.default,{where:{id:boardId,writer:userKey},relations:[\"tags\",\"url\"]}).then(function(board){if(board){var promisesTag=[];board.tags.forEach(function(tag){var p=new Promise(function(res){return _connection.default.Manager.decrement(_tag.default,{name:tag.name},\"count\",1).then(function(){return res(true);}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.tag_update_failed).put(\"boardDelete\").put(err).out();});});promisesTag.push(p);if(board.url){var pi0=new Promise(function(res,_){var _board$url5;return _connection.default.Manager.decrement(_urlTagCount.default,{url:{id:(_board$url5=board.url)==null?void 0:_board$url5.id},tag:{id:tag.id}},\"count\",1).then(function(){return res(true);}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.urltagcount_update_failed).put(\"boardDelete\").put(err).out();});});promisesTag.push(pi0);}});_connection.default.Manager.remove(_board.default,board).then((0,_asyncToGenerator2.default)(function*(){yield Promise.all(promisesTag);_logger.Logger.passApp(\"boardDelete\").out();resolve(true);})).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.block_delete_failed).put(\"boardDelete\").put(err).out();});}else _logger.Logger.errorApp(_applicationCode.ErrorCode.board_find_failed).put(\"boardDelete_0\").out();}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.board_find_failed).put(\"boardDelete_1\").put(err).out();});});}},{key:\"boardUp\",value:function(){var _boardUp=(0,_asyncToGenerator2.default)(function*(boardId,userKey){var board=yield _connection.default.Manager.findOne(_board.default,{where:{id:boardId},select:[\"writer\"]});if((board==null?void 0:board.writer)===userKey)return;var uped=yield _connection.default.Manager.query(`select * from \\`user_uped_boards_board\\` where userKey=${userKey} and boardId=${boardId}`);if(uped.length){yield _connection.default.Manager.query(`delete from \\`user_uped_boards_board\\` where userKey=${userKey} and boardId=${boardId}`);yield _connection.default.Manager.decrement(_board.default,{id:boardId},\"up\",1);return{uped:false};}else{yield _connection.default.Manager.query(`insert into \\`user_uped_boards_board\\` (userKey, boardId) values (${userKey}, ${boardId})`);yield _connection.default.Manager.increment(_board.default,{id:boardId},\"up\",1);return{uped:true};}});function boardUp(_x69,_x70){return _boardUp.apply(this,arguments);}return boardUp;}()},{key:\"commentInsert\",value:function commentInsert(boardId,writerKey,contents){return new Promise(function(resolve,_){_connection.default.Manager.insert(_comment.default,{writer:writerKey,contents:contents,board:{id:boardId}}).then(function(){_logger.Logger.passApp(\"commentInsert\").out();resolve(true);}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.comment_insert_failed).put(\"commentInsert\").put(err).out();});});}},{key:\"commentUpdate\",value:function commentUpdate(boardId,updaterKey,contents){return new Promise(function(resolve,_){_connection.default.Manager.update(_comment.default,{id:boardId,writer:updaterKey},{contents:contents,updated:true}).then(function(r){if(!r.affected){_logger.Logger.errorApp(_applicationCode.ErrorCode.comment_update_bad_request).put(\"commentUpdate_0\").out();}else{_logger.Logger.passApp(\"commentUpdate\").out();resolve(true);}}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.comment_update_failed).put(\"commentUpdate_1\").put(err).out();});});}},{key:\"commentDelete\",value:function commentDelete(commentId,userKey){return new Promise(function(resolve,_){_connection.default.Manager.findOne(_user.default,{where:{key:userKey}}).then(function(user){if(user){_connection.default.Manager.delete(_comment.default,commentId).then(function(){_logger.Logger.passApp(\"commentDelete\").out();resolve(true);}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.comment_delete_failed).put(\"commentDelete\").put(err).out();});}else _logger.Logger.errorApp(_applicationCode.ErrorCode.user_find_failed).put(\"commentDelete_0\").out();}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.user_find_failed).put(\"commentDelete_1\").put(err).out();});});}},{key:\"commentUp\",value:function(){var _commentUp=(0,_asyncToGenerator2.default)(function*(commentId,userKey){var board=yield _connection.default.Manager.findOne(_comment.default,{where:{id:commentId},select:[\"writer\"]});if((board==null?void 0:board.writer)===userKey)return;var uped=yield _connection.default.Manager.query(`select * from \\`user_uped_comments_comment\\` where userKey=${userKey} and commentId=${commentId}`);if(uped.length){yield _connection.default.Manager.query(`delete from \\`user_uped_comments_comment\\` where userKey=${userKey} and commentId=${commentId}`);yield _connection.default.Manager.decrement(_comment.default,{id:commentId},\"up\",1);return{uped:false};}else{yield _connection.default.Manager.query(`insert into \\`user_uped_comments_comment\\` (userKey, commentId) values (${userKey}, ${commentId})`);yield _connection.default.Manager.increment(_comment.default,{id:commentId},\"up\",1);return{uped:false};}});function commentUp(_x71,_x72){return _commentUp.apply(this,arguments);}return commentUp;}()},{key:\"getUrlTag\",value:function(){var _getUrlTag=(0,_asyncToGenerator2.default)(function*(url){console.log(\"get url tag\");return new Promise(function(resolve,_){_connection.default.Manager.findOne(_url2.default,{select:[\"id\"],where:{name:url}}).then(function(url_){if(url_){var urlId=url_.id;_connection.default.Manager.query(`select name, isUrl from (select tagId from \\`urltagcount\\` where urlId = ${urlId} and count > 0 order by count desc limit ${TAG_DISPLAY_CNT}) b join corner.tag a on a.id = b.tagid;`).then(function(r){_logger.Logger.passApp(\"get tag\").put(r.map(function(i){return i.name;})).out();if(r){resolve(r);return;}else{_logger.Logger.errorApp(_applicationCode.ErrorCode.tag_find_failed).put(\"getUrlTag_0\").out();}}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.tag_find_failed).put(\"getUrlTag_1\").put(err).out();});}else{resolve([]);}}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.url_find_failed).put(\"getUrlTag\").put(err).out();});});});function getUrlTag(_x73){return _getUrlTag.apply(this,arguments);}return getUrlTag;}()},{key:\"getHotTag\",value:function(){var _getHotTag=(0,_asyncToGenerator2.default)(function*(userKey){var hotKeyLen=Math.ceil(TAG_DISPLAY_CNT/2);var userHotKeyLen=TAG_DISPLAY_CNT-hotKeyLen-1;return new Promise(function(resolve,_){_connection.default.Manager.query(`select name, isUrl from (select tagId from \\`usertagcount\\` where userKey = ${userKey} and count > 0 order by count desc limit ${userHotKeyLen}) b join \\`tag\\` a on a.id = b.tagId;`).then(function(r){var left_tag_cnt=hotKeyLen-(userHotKeyLen-r.length);var exclude_tag=r.map(function(t){return\"\\\"\"+t.name+\"\\\"\";}).join(\" ,\");_connection.default.Manager.query(`select name, isUrl from \\`tag\\` ${r.length?`where count > 0 and name not in (${exclude_tag})`:\"where count > 0\"} order by count desc limit ${left_tag_cnt}`).then(function(r2){r.push.apply(r,(0,_toConsumableArray2.default)(r2));_logger.Logger.passApp(\"get tag\").out();resolve(r);return;}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.tag_find_failed).put(\"getHotTag_0\").put(err).out();});}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.tag_find_failed).put(\"getHotTag_1\").put(err).out();});});});function getHotTag(_x74){return _getHotTag.apply(this,arguments);}return getHotTag;}()},{key:\"checkBoard\",value:function(){var _checkBoard=(0,_asyncToGenerator2.default)(function*(url,hostname){return new Promise(function(){var _ref17=(0,_asyncToGenerator2.default)(function*(resolve){var urlBoardNum=0;var tagBoardNum=0;var urlObj=yield _connection.default.Manager.findOne(_url2.default,{where:{name:url},select:[\"id\"]}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.url_find_failed).put(\"checkBoard\").put(err).out();});if(urlObj){var boardNum=yield _connection.default.Manager.query(`select count(id) as cnt from \\`board\\` where urlId = ${urlObj.id} limit 99;`);urlBoardNum=boardNum[0].cnt;}var tagObj=yield _connection.default.Manager.findOne(_tag.default,{where:{name:hostname}}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.tag_find_failed).put(\"checkBoard\").put(err).out();});if(tagObj){var _boardNum=yield _connection.default.Manager.query(`select count(boardId) as cnt from \\`board_tags_tag\\` where tagId = ${tagObj.id} limit 99;`);tagBoardNum=_boardNum[0].cnt;}if(urlBoardNum>99)urlBoardNum=100;if(tagBoardNum>99)tagBoardNum=100;resolve({u:urlBoardNum,h:tagBoardNum});});return function(_x77){return _ref17.apply(this,arguments);};}());});function checkBoard(_x75,_x76){return _checkBoard.apply(this,arguments);}return checkBoard;}()},{key:\"checkUrlBoardExist\",value:function(){var _checkUrlBoardExist=(0,_asyncToGenerator2.default)(function*(url){return new Promise(function(){var _ref18=(0,_asyncToGenerator2.default)(function*(resolve){var urlBoardExist=false;var urlObj=yield _connection.default.Manager.findOne(_url2.default,{where:{name:url},select:[\"id\"]}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.url_find_failed).put(\"checkBoard\").put(err).out();});if(urlObj){var boardExist=yield _connection.default.Manager.query(`select id from \\`board\\` where urlId = ${urlObj.id} limit 1;`);if(boardExist)urlBoardExist=true;}resolve(urlBoardExist);});return function(_x79){return _ref18.apply(this,arguments);};}());});function checkUrlBoardExist(_x78){return _checkUrlBoardExist.apply(this,arguments);}return checkUrlBoardExist;}()}]);return StatementBoard;}();exports.StatementBoard=StatementBoard;\n\n//# sourceURL=webpack://cordova/./src/back/database/StatementBoard.ts?");

/***/ }),

/***/ "./src/back/database/connection.ts":
/*!*****************************************!*\
  !*** ./src/back/database/connection.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("var _interopRequireDefault=__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports, \"__esModule\", ({value:true}));exports[\"default\"]=void 0;var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"@babel/runtime/helpers/asyncToGenerator\"));var _classCallCheck2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"@babel/runtime/helpers/createClass\"));var _logger=__webpack_require__(/*! back/util/logger */ \"./src/back/util/logger.ts\");var _setting=__webpack_require__(/*! back/util/setting */ \"./src/back/util/setting.ts\");var _typeorm=__webpack_require__(/*! typeorm */ \"typeorm\");var _user=_interopRequireDefault(__webpack_require__(/*! back/model/user */ \"./src/back/model/user.ts\"));var _board=_interopRequireDefault(__webpack_require__(/*! back/model/board */ \"./src/back/model/board.ts\"));var _comment=_interopRequireDefault(__webpack_require__(/*! back/model/comment */ \"./src/back/model/comment.ts\"));var _userTagCount=_interopRequireDefault(__webpack_require__(/*! back/model/userTagCount */ \"./src/back/model/userTagCount.ts\"));var _tag=_interopRequireDefault(__webpack_require__(/*! back/model/tag */ \"./src/back/model/tag.ts\"));var _userUrlCount=_interopRequireDefault(__webpack_require__(/*! back/model/userUrlCount */ \"./src/back/model/userUrlCount.ts\"));var _urlTagCount=_interopRequireDefault(__webpack_require__(/*! back/model/urlTagCount */ \"./src/back/model/urlTagCount.ts\"));var _url=_interopRequireDefault(__webpack_require__(/*! back/model/url */ \"./src/back/model/url.ts\"));var DB=function(){function DB(){(0,_classCallCheck2.default)(this,DB);}(0,_createClass2.default)(DB,null,[{key:\"Manager\",get:function get(){return DB.connection.manager;}},{key:\"initialize\",value:function(){var _initialize=(0,_asyncToGenerator2.default)(function*(){var entities=[_user.default,_board.default,_comment.default,_tag.default,_url.default,_userTagCount.default,_userUrlCount.default,_urlTagCount.default];DB.connection=new _typeorm.DataSource(Object.assign({type:\"mysql\",supportBigNumbers:true,bigNumberStrings:false},_setting.SETTINGS.database,{entities:entities,cache:true}));yield DB.connection.initialize();_logger.Logger.passSignificant(\"DB\").put(_setting.SETTINGS.database.host).out();});function initialize(){return _initialize.apply(this,arguments);}return initialize;}()}]);return DB;}();exports[\"default\"]=DB;\n\n//# sourceURL=webpack://cordova/./src/back/database/connection.ts?");

/***/ }),

/***/ "./src/back/database/statementUser.ts":
/*!********************************************!*\
  !*** ./src/back/database/statementUser.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("var _interopRequireDefault=__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports, \"__esModule\", ({value:true}));exports.StatementUser=void 0;var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"@babel/runtime/helpers/asyncToGenerator\"));var _slicedToArray2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"@babel/runtime/helpers/slicedToArray\"));var _toConsumableArray2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"@babel/runtime/helpers/toConsumableArray\"));var _classCallCheck2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"@babel/runtime/helpers/createClass\"));var _connection=_interopRequireDefault(__webpack_require__(/*! back/database/connection */ \"./src/back/database/connection.ts\"));var _applicationCode=__webpack_require__(/*! common/applicationCode */ \"./src/common/applicationCode.ts\");var _user=_interopRequireDefault(__webpack_require__(/*! back/model/user */ \"./src/back/model/user.ts\"));var _logger=__webpack_require__(/*! back/util/logger */ \"./src/back/util/logger.ts\");var _setting=__webpack_require__(/*! back/util/setting */ \"./src/back/util/setting.ts\");var _tag=_interopRequireDefault(__webpack_require__(/*! back/model/tag */ \"./src/back/model/tag.ts\"));var MAX_FRIENDS=_setting.SETTINGS.follow.limit;var MAX_BLOCKS=_setting.SETTINGS.block.limit;var MAX_FOLLOW_RECOMM=_setting.SETTINGS.follow.recommendLen;var MAX_FOLLOW_LEN=_setting.SETTINGS.follow.followLen;var StatementUser=function(){function StatementUser(){(0,_classCallCheck2.default)(this,StatementUser);}(0,_createClass2.default)(StatementUser,null,[{key:\"getUser\",value:function getUser(userKey){return new Promise(function(resolve,reject){_connection.default.Manager.findOne(_user.default,{where:{key:userKey},select:[\"image\",\"name\"]}).then(function(user){if(user){_logger.Logger.passApp(\"getUser\").out();resolve({image:user.image,name:user.name});}else _logger.Logger.errorApp(_applicationCode.ErrorCode.user_find_failed).put(\"getUser0\").out();}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.user_find_failed).put(\"getUser1\").put(err).out();});});}},{key:\"follow\",value:function follow(targetKey,userKey){return new Promise(function(resolve,reject){_connection.default.Manager.findOne(_user.default,{where:{key:userKey},select:[\"key\"],relations:[\"followings\"]}).then(function(user){if(user){var _userKey=user.key;var numFriends=user.followings.length;if(targetKey===_userKey){_logger.Logger.errorApp(_applicationCode.ErrorCode.follow_self).put(\"follow\").out();return;}if(numFriends>MAX_FRIENDS){_logger.Logger.errorApp(_applicationCode.ErrorCode.max_friends).put(\"follow\").out();return;}if(user.followings.some(function(f){return f.key===targetKey;})){_connection.default.Manager.query(`delete from \\`user_followings_user\\` where followerKey = ${_userKey} and followedKey = ${targetKey}`).then(function(){_logger.Logger.passApp(\"follow\").out();resolve({followed:false});}).catch(function(err){_logger.Logger.errorApp(_applicationCode.ErrorCode.unfollow_failed).put(\"follow\").put(err).out();});}else{_connection.default.Manager.query(`insert into \\`user_followings_user\\`(followerKey, followedKey) value(${_userKey}, ${targetKey})`).then(function(){_logger.Logger.passApp(\"follow\").out();resolve({followed:true});}).catch(function(err){_logger.Logger.errorApp(_applicationCode.ErrorCode.follow_failed).put(\"follow\").put(err).out();});}}else _logger.Logger.errorApp(_applicationCode.ErrorCode.user_unfound).put(\"follow_0\").out();}).catch(function(err){_logger.Logger.errorApp(_applicationCode.ErrorCode.user_unfound).put(\"follow_1\").put(err).out();});});}},{key:\"getFollow\",value:function getFollow(userKey,tag,startId,zeroTagUse){return new Promise(function(resolve,reject){if(zeroTagUse){_connection.default.Manager.query(`select followedKey, (select name from corner.user where user.key = followedKey) name, (select image from corner.user where user.key = followedKey) image from corner.user_followings_user where followerKey = ${userKey} and followedKey > ${startId} and followedKey not in (select usertagcount.userKey from corner.usertagcount where usertagcount.userKey = followedKey) order by followedKey desc limit ${MAX_FOLLOW_LEN};\n                                    `).then(function(usersO){var users=usersO.map(function(us){return{key:us.userKey,name:us.name,image:us.image};});if(users.length===0){resolve({users:users,end:true,endId:0,zero:true});}else{var endId=users[users.length-1].key;if(users.length<MAX_FOLLOW_LEN){resolve({users:users,end:true,endId:0,zero:true});}else resolve({users:users,end:false,endId:endId,zero:true});}_logger.Logger.passApp(\"getFollow\").out();return;}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.follow_find_failed).put(\"getFollow_0\").put(err).out();});}else if(tag){_connection.default.Manager.findOne(_tag.default,{where:{name:tag},select:[\"id\"]}).then(function(tagO){if(tagO){var tagId=tagO.id;_connection.default.Manager.query(`select userKey, (select name from corner.user where user.key = userKey) name, (select image from corner.user where user.key = userKey) image from (select followedKey from corner.user_followings_user where followerKey = ${userKey}) followed left join corner.usertagcount usertagcount on usertagcount.userKey = followed.followedKey where tagId = ${tagId} and userKey > ${startId} order by count desc limit ${MAX_FOLLOW_LEN};\n                              `).then(function(usersO){var users=usersO.map(function(us){return{key:us.userKey,name:us.name,image:us.image};});if(users.length===0){resolve({users:users,end:true,endId:startId,zero:true});}else{var endId=users[users.length-1].key;if(users.length<MAX_FOLLOW_LEN){resolve({users:users,end:false,endId:endId,zero:true});}else resolve({users:users,end:false,endId:endId});}_logger.Logger.passApp(\"getFollow\").out();return;}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.follow_find_failed).put(\"getFollow_1\").put(err).out();});}else _logger.Logger.errorApp(_applicationCode.ErrorCode.tag_find_failed).put(\"getFollow_0\").out();}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.tag_find_failed).put(\"getFollow_1\").put(err).out();});}else{_connection.default.Manager.query(`select userKey, (select name from corner.user where user.key = userKey) name, (select image from corner.user where user.key = userKey) image, count(*) as cnt from (select followedKey from corner.user_followings_user where followerKey = ${userKey}) followed left join corner.usertagcount usertagcount on usertagcount.userKey = followed.followedKey where userKey > 0 group by userKey order by cnt desc limit ${MAX_FOLLOW_LEN};\n                        `).then(function(usersO){var users=usersO.map(function(us){return{key:us.userKey,name:us.name,image:us.image};});if(users.length===0){resolve({users:users,end:true,endId:0,zero:true});}else{var endId=users[users.length-1].key;if(users.length<MAX_FOLLOW_LEN){_connection.default.Manager.query(`select followedKey, (select name from corner.user where user.key = followedKey) name, (select image from corner.user where user.key = followedKey) image from corner.user_followings_user where followerKey = ${userKey} and followedKey > ${startId} and followedKey not in (select usertagcount.userKey from corner.usertagcount where usertagcount.userKey = followedKey) order by followedKey desc limit ${MAX_FOLLOW_LEN};\n                                                      `).then(function(usersO_){var users_=usersO_.map(function(us){return{key:us.userKey,name:us.name,image:us.image};});if(users_.length===0){resolve({users:[].concat((0,_toConsumableArray2.default)(users),(0,_toConsumableArray2.default)(users_)),end:true,endId:0,zero:true});}else{var _endId=users_[users_.length-1].key;if(users_.length<MAX_FOLLOW_LEN){resolve({users:[].concat((0,_toConsumableArray2.default)(users),(0,_toConsumableArray2.default)(users_)),end:true,endId:0,zero:true});}else resolve({users:[].concat((0,_toConsumableArray2.default)(users),(0,_toConsumableArray2.default)(users_)),end:false,endId:_endId,zero:true});}_logger.Logger.passApp(\"getFollow\").out();return;}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.follow_find_failed).put(\"getFollow_2\").put(err).out();});}else resolve({users:users,end:false,endId:endId});}}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.follow_find_failed).put(\"getFollow_3\").put(err).out();});}});}},{key:\"getFollowRecommend\",value:function getFollowRecommend(userKey,tag){return new Promise(function(resolve,reject){if(tag){_connection.default.Manager.findOne(_tag.default,{where:{name:tag},select:[\"id\"]}).then(function(tagO){if(tagO){var tagId=tagO.id;_connection.default.Manager.query(`select userKey, (select name from corner.user where user.key = userKey) name, (select image from corner.user where user.key = userKey) image from corner.usertagcount where tagId = ${tagId} order by count desc limit ${MAX_FOLLOW_RECOMM};`).then(function(usersO){var users=usersO.map(function(us){return{key:us.userKey,name:us.name,image:us.image};});_logger.Logger.passApp(\"getFollowRecommend\").out();resolve(users);return;}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.follow_recommend_find_failed).put(\"getFollowRecommend_0\").put(err).out();});}else _logger.Logger.errorApp(_applicationCode.ErrorCode.tag_find_failed).put(\"getFollowRecommend_0\").out();}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.tag_find_failed).put(\"getFollowRecommend_1\").put(err).out();});}else{_connection.default.Manager.query(`select userKey, (select name from corner.user where user.key = userKey) name, (select image from corner.user where user.key = userKey) image, count(*) as cnt from corner.usertagcount group by userKey order by cnt desc limit ${MAX_FOLLOW_RECOMM};`).then(function(usersO){var users=usersO.map(function(us){return{key:us.userKey,name:us.name,image:us.image};});_logger.Logger.passApp(\"getFollowRecommend\").out();resolve(users);return;}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.follow_recommend_find_failed).put(\"getFollowRecommend_1\").put(err).out();});}});}},{key:\"blockAdd\",value:function blockAdd(targetName,userName){return new Promise(function(resolve,reject){var target=_connection.default.Manager.findOne(_user.default,{where:{name:targetName},select:[\"key\"]});var user=_connection.default.Manager.findOne(_user.default,{where:{name:userName},select:[\"key\"],relations:[\"blockeds\"]});Promise.all([target,user]).then(function(_ref){var _ref2=(0,_slicedToArray2.default)(_ref,2),target=_ref2[0],user=_ref2[1];if(target&&user){var targetKey=target.key;var userKey=user.key;var numBlocks=user.blockeds.length;if(user.blockeds.some(function(u){return u.key===targetKey;}))_logger.Logger.errorApp(_applicationCode.ErrorCode.block_already).put(\"blockAdd\").out();if(targetKey===userKey)_logger.Logger.errorApp(_applicationCode.ErrorCode.block_self).put(\"blockAdd\").out();if(numBlocks>MAX_BLOCKS)_logger.Logger.errorApp(_applicationCode.ErrorCode.max_blocks).put(\"blockAdd\").out();else _connection.default.Manager.query(`insert into \\`user_blockeds_user\\`(blockersKey, blockedsKey) value(${userKey}, ${targetKey})`).then(function(){_logger.Logger.passApp(\"blockAdd\").out();resolve(true);}).catch(function(err){_logger.Logger.errorApp(_applicationCode.ErrorCode.block_add_failed).put(\"blockAdd_0\").put(err).out();});}}).catch(function(err){_logger.Logger.errorApp(_applicationCode.ErrorCode.block_add_failed).put(\"blockAdd_1\").put(err).out();});reject();});}},{key:\"blockDelete\",value:function blockDelete(targetName,userName){return new Promise(function(resolve,reject){var targetKey=new Promise(function(res,_){_connection.default.Manager.findOne(_user.default,{where:{name:targetName},select:[\"key\"]}).then(function(u){if(u)res(u.key);else _logger.Logger.errorApp(_applicationCode.ErrorCode.user_unfound).put(\"boardSelect_0\").out();});});var userKey=new Promise(function(res,_){_connection.default.Manager.findOne(_user.default,{where:{name:userName},select:[\"key\"]}).then(function(u){if(u)res(u.key);else _logger.Logger.errorApp(_applicationCode.ErrorCode.user_unfound).put(\"boardSelect_1\").out();});});Promise.all([targetKey,userKey]).then(function(v){_connection.default.Manager.query(`delete from \\`user_blockeds_user\\` where blockersKey = ${v[1]} and blockedsKey = ${v[0]}`).then(function(res){_logger.Logger.passApp(\"blockDelete\").out();resolve(true);}).catch(function(err){_logger.Logger.errorApp(_applicationCode.ErrorCode.block_delete_failed).put(\"blockDelete_0\").put(err).out();});}).catch(function(err){_logger.Logger.errorApp(_applicationCode.ErrorCode.block_delete_failed).put(\"blockDelete_1\").put(err).out();});reject();});}},{key:\"signIn\",value:function(){var _signIn=(0,_asyncToGenerator2.default)(function*(socialId,name,email){return new Promise(function(resolve,reject){_connection.default.Manager.findOne(_user.default,{where:{socialId:socialId}}).then(function(user){if(user){resolve({signed:true,userKey:user.key,name:user.name,image:user.image});}else{var imgNo=Math.floor(Math.random()*5);_connection.default.Manager.save(_user.default,{socialId:socialId,name:name,email:email,image:\"user\"+String(imgNo)+\".svg\"}).then(function(res){_logger.Logger.passApp(\"signUp\").put(\"signIn\").out();resolve({signed:true,userKey:res.key});return;}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.user_save_failed).put(\"signIn\").put(err).out();});}}).catch(function(err){return _logger.Logger.errorApp(_applicationCode.ErrorCode.user_find_failed).put(\"signIn\").put(err).out();});});});function signIn(_x,_x2,_x3){return _signIn.apply(this,arguments);}return signIn;}()}]);return StatementUser;}();exports.StatementUser=StatementUser;\n\n//# sourceURL=webpack://cordova/./src/back/database/statementUser.ts?");

/***/ }),

/***/ "./src/back/main.ts":
/*!**************************!*\
  !*** ./src/back/main.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("var _interopRequireDefault=__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports, \"__esModule\", ({value:true}));exports.send404=void 0;var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"@babel/runtime/helpers/asyncToGenerator\"));var _express=_interopRequireDefault(__webpack_require__(/*! express */ \"express\"));var _cors=_interopRequireDefault(__webpack_require__(/*! cors */ \"cors\"));var _path=_interopRequireDefault(__webpack_require__(/*! path */ \"path\"));var _expressSession=_interopRequireDefault(__webpack_require__(/*! express-session */ \"express-session\"));var _reactNest=__webpack_require__(/*! ./reactNest */ \"./src/back/reactNest.ts\");var _connection=_interopRequireDefault(__webpack_require__(/*! ./database/connection */ \"./src/back/database/connection.ts\"));var _StatementBoard=__webpack_require__(/*! ./database/StatementBoard */ \"./src/back/database/StatementBoard.ts\");var _setting=__webpack_require__(/*! ./util/setting */ \"./src/back/util/setting.ts\");var _applicationCode=__webpack_require__(/*! common/applicationCode */ \"./src/common/applicationCode.ts\");var _language=__webpack_require__(/*! ./util/language */ \"./src/back/util/language.ts\");var _cookieParser=_interopRequireDefault(__webpack_require__(/*! cookie-parser */ \"cookie-parser\"));var _statementUser=__webpack_require__(/*! ./database/statementUser */ \"./src/back/database/statementUser.ts\");var _expressStaticGzip=_interopRequireDefault(__webpack_require__(/*! express-static-gzip */ \"express-static-gzip\"));var _https=_interopRequireDefault(__webpack_require__(/*! https */ \"https\"));var _fs=_interopRequireDefault(__webpack_require__(/*! fs */ \"fs\"));var app=(0,_express.default)();var MAX_CONTENTS_LEN=_setting.SETTINGS.board.contentsLen;function parseUrl(url){return url.replaceAll(\"!oa@sis$\",\"&\").replaceAll(\"!cor@ner$\",\"#\");}var send404=function send404(req,res){res.sendStatus(404);};exports.send404=send404;_connection.default.initialize().then(function(){(0,_setting.writeClientConstants)();(0,_language.loadLanguages)();app.engine(\"js\",_reactNest.engine);app.set(\"views\",_path.default.resolve(__dirname,\"./pages\"));app.set(\"view engine\",\"js\");app.use((0,_cors.default)());app.use(_express.default.urlencoded({extended:true}));app.use(_express.default.text());app.use(_express.default.json());app.use((0,_cookieParser.default)(_setting.SETTINGS.cookie.secret));app.use(function(req,res,next){req.locale=(0,_language.getLocale)(req);next(null);});app.use((0,_expressSession.default)({secret:\"corner\",resave:false,saveUninitialized:true,cookie:{httpOnly:false,maxAge:_setting.SETTINGS.session.maxAge}}));app.use(\"/profiles\",_express.default.static(_path.default.resolve(__dirname,\"./profiles\"),{maxAge:_setting.SETTINGS.cookie.maxAge}),send404);app.use(\"/images\",_express.default.static(_path.default.resolve(__dirname,\"./images\"),{maxAge:_setting.SETTINGS.cookie.maxAge}),send404);app.use(\"/pages\",(0,_expressStaticGzip.default)(_path.default.resolve(__dirname,\"./pages\"),{serveStatic:{maxAge:_setting.SETTINGS.cookie.maxAge},enableBrotli:true}),send404);app.use(\"/strings\",_express.default.static(_path.default.resolve(__dirname,\"./strings\"),{maxAge:_setting.SETTINGS.cookie.maxAge}),send404);app.use(\"/constants.js\",function(req,res){return res.sendFile(_path.default.resolve(__dirname,\"./constants.js\"));});app.use(\"/board/constants.js\",function(req,res){return res.sendFile(_path.default.resolve(__dirname,\"./constants.js\"));});app.use(\"/favicon.ico\",_express.default.static(_path.default.resolve(__dirname,\"./images/favicon.ico\"),{maxAge:_setting.SETTINGS.cookie.maxAge}),send404);app.get(\"/admin/load-languages\",function(req,res){return(0,_language.loadLanguages)();});app.get(\"/boards\",function(){var _ref=(0,_asyncToGenerator2.default)(function*(req,res,next){var startId=Number(req.query.sid);var userKey=req.session.userKey;if(!req.session.isLogined||!userKey)res.redirect(\"/\");else{var result=yield _StatementBoard.StatementBoard.boardList(startId,_applicationCode.BOARD_CATEGORY.boards,userKey);res.send(JSON.stringify(result));}});return function(_x,_x2,_x3){return _ref.apply(this,arguments);};}());app.get(\"/myboards\",function(){var _ref2=(0,_asyncToGenerator2.default)(function*(req,res,next){var startId=Number(req.query.sid);var userKey=req.session.userKey;if(!req.session.isLogined||!userKey)res.redirect(\"/\");else{var result=yield _StatementBoard.StatementBoard.boardList(startId,_applicationCode.BOARD_CATEGORY.myBoards,userKey);res.send(JSON.stringify(result));}});return function(_x4,_x5,_x6){return _ref2.apply(this,arguments);};}());app.get(\"/myupboards\",function(){var _ref3=(0,_asyncToGenerator2.default)(function*(req,res,next){var startId=Number(req.query.sid);var userKey=req.session.userKey;if(!req.session.isLogined||!userKey)res.redirect(\"/\");else{var result=yield _StatementBoard.StatementBoard.boardList(startId,_applicationCode.BOARD_CATEGORY.myUpBoards,userKey);res.send(JSON.stringify(result));}});return function(_x7,_x8,_x9){return _ref3.apply(this,arguments);};}());app.get(\"/tagboards\",function(){var _ref4=(0,_asyncToGenerator2.default)(function*(req,res,next){var startId=Number(req.query.sid);var tag=String(req.query.t);var userKey=req.session.userKey;if(!req.session.isLogined||!userKey)res.redirect(\"/\");else{var result=yield _StatementBoard.StatementBoard.boardList(startId,_applicationCode.BOARD_CATEGORY.tagBoards,userKey,undefined,tag);res.send(JSON.stringify(result));}});return function(_x10,_x11,_x12){return _ref4.apply(this,arguments);};}());app.get(\"/urlboards\",function(){var _ref5=(0,_asyncToGenerator2.default)(function*(req,res,next){var startId=Number(req.query.sid);var url=parseUrl(String(req.query.u));var userKey=req.session.userKey;console.log(\"urlboards\");if(!req.session.isLogined||!userKey)res.redirect(\"/\");else{var result=yield _StatementBoard.StatementBoard.boardList(startId,_applicationCode.BOARD_CATEGORY.urlBoards,userKey,url);res.send(JSON.stringify(result));}});return function(_x13,_x14,_x15){return _ref5.apply(this,arguments);};}());app.get(\"/searchboards\",function(){var _ref6=(0,_asyncToGenerator2.default)(function*(req,res,next){var startId=Number(req.query.sid);var search=String(req.query.s);var userKey=req.session.userKey;if(!req.session.isLogined||!userKey)res.redirect(\"/\");else{var result=yield _StatementBoard.StatementBoard.boardList(startId,_applicationCode.BOARD_CATEGORY.searchBoards,userKey,undefined,undefined,search);res.send(JSON.stringify(result));}});return function(_x16,_x17,_x18){return _ref6.apply(this,arguments);};}());app.get(\"/userboards\",function(){var _ref7=(0,_asyncToGenerator2.default)(function*(req,res,next){var startId=Number(req.query.sid);var searchUser=Number(req.query.u);var userKey=req.session.userKey;if(!req.session.isLogined||!userKey)res.redirect(\"/\");else{var result=yield _StatementBoard.StatementBoard.boardList(startId,_applicationCode.BOARD_CATEGORY.userBoards,userKey,undefined,undefined,undefined,searchUser);res.send(JSON.stringify(result));}});return function(_x19,_x20,_x21){return _ref7.apply(this,arguments);};}());app.get(\"/comments\",function(){var _ref8=(0,_asyncToGenerator2.default)(function*(req,res){var boardId=Number(req.query.id);var startId=Number(req.query.startId);var userKey=req.session.userKey;if(!req.session.isLogined||!userKey)res.redirect(\"/\");else{var result=yield _StatementBoard.StatementBoard.commentList(boardId,startId,userKey);res.send(JSON.stringify(result));}});return function(_x22,_x23){return _ref8.apply(this,arguments);};}());app.post(\"/boardInsert\",function(){var _ref9=(0,_asyncToGenerator2.default)(function*(req,res){var userKey=req.session.userKey;var contents=req.body.c;var hashTag=req.body.t;var url=parseUrl(req.body.u);var hostname=req.body.h;if(contents.length>MAX_CONTENTS_LEN)return;if(url===\"\")url=null;if(hostname===\"\"||url===hostname)hostname=null;if(!req.session.isLogined||!userKey)res.redirect(\"/\");else{var result=yield _connection.default.Manager.transaction(function(){return _StatementBoard.StatementBoard.boardInsert(userKey,contents,hashTag,url,hostname);});if(result)res.send(true);}});return function(_x24,_x25){return _ref9.apply(this,arguments);};}());app.post(\"/boardUpdate\",function(){var _ref10=(0,_asyncToGenerator2.default)(function*(req,res){var boardId=Number(req.query.id);var userKey=req.session.userKey;var contents=req.body.c;var hashTag=req.body.t;if(contents.length>MAX_CONTENTS_LEN)return;if(!req.session.isLogined||!userKey)res.redirect(\"/\");else{var result=yield _StatementBoard.StatementBoard.boardUpdate(boardId,userKey,contents,hashTag);if(result)res.send(true);}});return function(_x26,_x27){return _ref10.apply(this,arguments);};}());app.get(\"/boardDelete\",function(){var _ref11=(0,_asyncToGenerator2.default)(function*(req,res){var boardId=Number(req.query.id);var userKey=req.session.userKey;if(userKey){var result=yield _StatementBoard.StatementBoard.boardDelete(boardId,userKey);if(result)res.send(true);}});return function(_x28,_x29){return _ref11.apply(this,arguments);};}());app.post(\"/commentInsert\",function(){var _ref12=(0,_asyncToGenerator2.default)(function*(req,res){var boardId=Number(req.query.bid);var userKey=req.session.userKey;var contents=req.body.c;if(!req.session.isLogined||!userKey)res.redirect(\"/\");else{var result=yield _StatementBoard.StatementBoard.commentInsert(boardId,userKey,contents);if(result)res.send(true);}});return function(_x30,_x31){return _ref12.apply(this,arguments);};}());app.post(\"/commentUpdate\",function(){var _ref13=(0,_asyncToGenerator2.default)(function*(req,res){var commentId=Number(req.query.cid);var userKey=req.session.userKey;var contents=req.body.c;if(!req.session.isLogined||!userKey)res.redirect(\"/\");else{var result=yield _StatementBoard.StatementBoard.commentUpdate(commentId,userKey,contents);if(result)res.send(true);}});return function(_x32,_x33){return _ref13.apply(this,arguments);};}());app.get(\"/commentDelete\",function(){var _ref14=(0,_asyncToGenerator2.default)(function*(req,res){var commentId=Number(req.query.cid);var userKey=req.session.userKey;if(userKey){var result=yield _StatementBoard.StatementBoard.commentDelete(commentId,userKey);if(result)res.send(true);}});return function(_x34,_x35){return _ref14.apply(this,arguments);};}());app.get(\"/boardUp\",function(){var _ref15=(0,_asyncToGenerator2.default)(function*(req,res){var boardId=Number(req.query.id);var userKey=req.session.userKey;if(!req.session.isLogined||!userKey)res.redirect(\"/\");else{var result=yield _connection.default.Manager.transaction(function(){return _StatementBoard.StatementBoard.boardUp(boardId,userKey);});res.send(JSON.stringify(result));}});return function(_x36,_x37){return _ref15.apply(this,arguments);};}());app.get(\"/commentUp\",function(){var _ref16=(0,_asyncToGenerator2.default)(function*(req,res){var commentId=Number(req.query.id);var userKey=req.session.userKey;if(!req.session.isLogined||!userKey)res.redirect(\"/\");else{var result=yield _connection.default.Manager.transaction(function(){return _StatementBoard.StatementBoard.commentUp(commentId,userKey);});res.send(JSON.stringify(result));}});return function(_x38,_x39){return _ref16.apply(this,arguments);};}());app.get(\"/follow\",function(){var _ref17=(0,_asyncToGenerator2.default)(function*(req,res,next){var followId=Number(req.query.id);var userKey=req.session.userKey;if(!req.session.isLogined||!userKey)res.redirect(\"/\");else{var result=yield _statementUser.StatementUser.follow(followId,userKey);res.send(JSON.stringify(result));}});return function(_x40,_x41,_x42){return _ref17.apply(this,arguments);};}());app.get(\"/tag\",function(){var _ref18=(0,_asyncToGenerator2.default)(function*(req,res,next){var url=parseUrl(String(req.query.u));var hot=Boolean(req.query.h);var userKey=req.session.userKey;if(!req.session.isLogined||!userKey)res.redirect(\"/\");else{if(hot){var result=yield _StatementBoard.StatementBoard.getHotTag(userKey);res.send(JSON.stringify(result));}else if(url){var tags=yield _StatementBoard.StatementBoard.getUrlTag(url);res.send(JSON.stringify({tags:tags}));}}});return function(_x43,_x44,_x45){return _ref18.apply(this,arguments);};}());app.get(\"/getfollow\",function(){var _ref19=(0,_asyncToGenerator2.default)(function*(req,res,next){var hot=Boolean(req.query.h);var tag=req.query.t?String(req.query.t):null;var startId=Number(req.query.sid);var zero=Boolean(req.query.z);var userKey=req.session.userKey;if(!req.session.isLogined||!userKey)res.redirect(\"/\");else{if(hot){var result_recommend=yield _statementUser.StatementUser.getFollowRecommend(userKey,tag);var result_follow=yield _statementUser.StatementUser.getFollow(userKey,tag,0,zero);var result={recomm:result_recommend,follow:result_follow};res.send(JSON.stringify(result));}else{var _result_follow=yield _statementUser.StatementUser.getFollow(userKey,tag,startId,zero);var _result={recomm:null,follow:_result_follow};res.send(JSON.stringify(_result));}}});return function(_x46,_x47,_x48){return _ref19.apply(this,arguments);};}());app.post(\"/signIn\",function(){var _ref20=(0,_asyncToGenerator2.default)(function*(req,res,next){var id=String(req.body.i);var name=String(req.body.n);var email=String(req.body.e);if(!req.session.isLogined||!req.session.userKey){try{var result=yield _statementUser.StatementUser.signIn(id,name,email);req.session.userKey=result.userKey;req.session.isLogined=true;res.send(JSON.stringify({signed:true,name:result.name,image:result.image}));}catch(_unused){res.send(JSON.stringify({signed:false}));}}else res.send(JSON.stringify({signed:true}));});return function(_x49,_x50,_x51){return _ref20.apply(this,arguments);};}());app.get(\"/signout\",function(){var _ref21=(0,_asyncToGenerator2.default)(function*(req,res,next){if(req.session.isLogined)req.session.isLogined=false;if(req.session.userKey)req.session.userKey=null;res.send(JSON.stringify({signedOut:true}));});return function(_x52,_x53,_x54){return _ref21.apply(this,arguments);};}());app.get(\"/boardload\",function(){var _ref22=(0,_asyncToGenerator2.default)(function*(req,res,next){var boardId=Number(req.query.id);var userKey=req.session.userKey;if(!req.session.isLogined||!userKey)res.redirect(\"/\");else{var board=yield _StatementBoard.StatementBoard.boardSelect(boardId,userKey);res.send(JSON.stringify(board));}});return function(_x55,_x56,_x57){return _ref22.apply(this,arguments);};}());app.get(\"/board/:id\",function(){var _ref23=(0,_asyncToGenerator2.default)(function*(req,res,next){var boardId=Number(req.params.id);var userKey=req.session.userKey;res.set(\"Access-Control-Allow-Origin\",\"*\");if(!req.session.isLogined||!userKey){(0,_reactNest.pageBuilder)(\"ssr\",{url:null,hostname:null,ext:false,ss:false})(req,res,next);}else{var board=yield _StatementBoard.StatementBoard.boardSelect(boardId,userKey);var user=yield _statementUser.StatementUser.getUser(userKey);(0,_reactNest.pageBuilder)(\"ssr\",{url:null,hostname:null,ext:false,ss:true,boardAccess:true,board:board,name:user.name,image:user.image})(req,res,next);}});return function(_x58,_x59,_x60){return _ref23.apply(this,arguments);};}());app.get(\"/check\",function(){var _ref24=(0,_asyncToGenerator2.default)(function*(req,res,next){var url=parseUrl(String(req.query.u));var hostname=String(req.query.h);var result=yield _StatementBoard.StatementBoard.checkBoard(url,hostname);if(result)res.send(result);});return function(_x61,_x62,_x63){return _ref24.apply(this,arguments);};}());app.get(\"/*\",function(){var _ref25=(0,_asyncToGenerator2.default)(function*(req,res,next){var _req$query=req.query,u=_req$query.u,h=_req$query.h;var url=null;var hostname=null;if(u)url=parseUrl(String(u));if(h)hostname=String(h);var extension=Boolean(req.query.ext);res.set(\"Access-Control-Allow-Origin\",\"*\");if(!req.session.isLogined||!req.session.userKey){(0,_reactNest.pageBuilder)(\"ssr\",{url:url,hostname:hostname,ext:extension,ss:false})(req,res,next);}else{var user=yield _statementUser.StatementUser.getUser(req.session.userKey);(0,_reactNest.pageBuilder)(\"ssr\",{url:url,hostname:hostname,ext:extension,ss:true,name:user.name,image:user.image})(req,res,next);}});return function(_x64,_x65,_x66){return _ref25.apply(this,arguments);};}());if(!_setting.CLOTHES.development&&_setting.SETTINGS.https){var ssl_options=_setting.SETTINGS.https&&{cert:_fs.default.readFileSync(_setting.SETTINGS.https.cert),key:_fs.default.readFileSync(_setting.SETTINGS.https.key),ca:_fs.default.readFileSync(_setting.SETTINGS.https.ca)};_https.default.createServer(ssl_options,app).listen(_setting.SETTINGS.port);}else{app.listen(_setting.SETTINGS.port);}});\n\n//# sourceURL=webpack://cordova/./src/back/main.ts?");

/***/ }),

/***/ "./src/back/model/board.ts":
/*!*********************************!*\
  !*** ./src/back/model/board.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("var _interopRequireDefault=__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports, \"__esModule\", ({value:true}));exports[\"default\"]=void 0;var _initializerDefineProperty2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/initializerDefineProperty */ \"@babel/runtime/helpers/initializerDefineProperty\"));var _createClass2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"@babel/runtime/helpers/createClass\"));var _classCallCheck2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"@babel/runtime/helpers/classCallCheck\"));var _applyDecoratedDescriptor2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/applyDecoratedDescriptor */ \"@babel/runtime/helpers/applyDecoratedDescriptor\"));var _initializerWarningHelper2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/initializerWarningHelper */ \"@babel/runtime/helpers/initializerWarningHelper\"));var _comment=_interopRequireDefault(__webpack_require__(/*! ./comment */ \"./src/back/model/comment.ts\"));var _tag=_interopRequireDefault(__webpack_require__(/*! ./tag */ \"./src/back/model/tag.ts\"));var _url=_interopRequireDefault(__webpack_require__(/*! ./url */ \"./src/back/model/url.ts\"));var _user=_interopRequireDefault(__webpack_require__(/*! ./user */ \"./src/back/model/user.ts\"));var _typeorm=__webpack_require__(/*! typeorm */ \"typeorm\");var _dec,_dec2,_dec3,_dec4,_dec5,_dec6,_dec7,_dec8,_dec9,_dec10,_dec11,_dec12,_class,_class2,_descriptor,_descriptor2,_descriptor3,_descriptor4,_descriptor5,_descriptor6,_descriptor7,_descriptor8,_descriptor9,_descriptor10;var Board=(_dec=(0,_typeorm.Entity)({name:\"board\",schema:\"corner\"}),_dec2=(0,_typeorm.PrimaryGeneratedColumn)(\"increment\"),_dec3=(0,_typeorm.CreateDateColumn)({type:\"timestamp\",default:function _default(){return\"CURRENT_TIMESTAMP(6)\";}}),_dec4=(0,_typeorm.Column)({type:\"int\"}),_dec5=(0,_typeorm.Column)({type:\"text\"}),_dec6=(0,_typeorm.Column)({type:\"boolean\",default:false}),_dec7=(0,_typeorm.OneToMany)(function(){return _comment.default;},function(comments){return comments.board;},{nullable:true}),_dec8=(0,_typeorm.ManyToMany)(function(){return _user.default;},function(upedUsers){return upedUsers.upedBoards;},{nullable:true}),_dec9=(0,_typeorm.Column)({type:\"int\",unsigned:true,default:0}),_dec10=(0,_typeorm.ManyToOne)(function(){return _url.default;},function(url){return url.boards;},{nullable:true}),_dec11=(0,_typeorm.ManyToMany)(function(){return _tag.default;},function(tags){return tags.boards;},{nullable:true}),_dec12=(0,_typeorm.JoinTable)(),_dec(_class=(_class2=(0,_createClass2.default)(function Board(){(0,_classCallCheck2.default)(this,Board);(0,_initializerDefineProperty2.default)(this,\"id\",_descriptor,this);(0,_initializerDefineProperty2.default)(this,\"date\",_descriptor2,this);(0,_initializerDefineProperty2.default)(this,\"writer\",_descriptor3,this);(0,_initializerDefineProperty2.default)(this,\"contents\",_descriptor4,this);(0,_initializerDefineProperty2.default)(this,\"updated\",_descriptor5,this);(0,_initializerDefineProperty2.default)(this,\"comments\",_descriptor6,this);(0,_initializerDefineProperty2.default)(this,\"upedUsers\",_descriptor7,this);(0,_initializerDefineProperty2.default)(this,\"up\",_descriptor8,this);(0,_initializerDefineProperty2.default)(this,\"url\",_descriptor9,this);(0,_initializerDefineProperty2.default)(this,\"tags\",_descriptor10,this);}),(_descriptor=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"id\",[_dec2],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor2=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"date\",[_dec3],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor3=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"writer\",[_dec4],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor4=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"contents\",[_dec5],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor5=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"updated\",[_dec6],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor6=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"comments\",[_dec7],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor7=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"upedUsers\",[_dec8],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor8=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"up\",[_dec9],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor9=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"url\",[_dec10],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor10=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"tags\",[_dec11,_dec12],{configurable:true,enumerable:true,writable:true,initializer:null})),_class2))||_class);exports[\"default\"]=Board;\n\n//# sourceURL=webpack://cordova/./src/back/model/board.ts?");

/***/ }),

/***/ "./src/back/model/comment.ts":
/*!***********************************!*\
  !*** ./src/back/model/comment.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("var _interopRequireDefault=__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports, \"__esModule\", ({value:true}));exports[\"default\"]=void 0;var _initializerDefineProperty2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/initializerDefineProperty */ \"@babel/runtime/helpers/initializerDefineProperty\"));var _createClass2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"@babel/runtime/helpers/createClass\"));var _classCallCheck2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"@babel/runtime/helpers/classCallCheck\"));var _applyDecoratedDescriptor2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/applyDecoratedDescriptor */ \"@babel/runtime/helpers/applyDecoratedDescriptor\"));var _initializerWarningHelper2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/initializerWarningHelper */ \"@babel/runtime/helpers/initializerWarningHelper\"));var _board=_interopRequireDefault(__webpack_require__(/*! ./board */ \"./src/back/model/board.ts\"));var _typeorm=__webpack_require__(/*! typeorm */ \"typeorm\");var _user=_interopRequireDefault(__webpack_require__(/*! ./user */ \"./src/back/model/user.ts\"));var _dec,_dec2,_dec3,_dec4,_dec5,_dec6,_dec7,_dec8,_dec9,_dec10,_class,_class2,_descriptor,_descriptor2,_descriptor3,_descriptor4,_descriptor5,_descriptor6,_descriptor7,_descriptor8;var Comment=(_dec=(0,_typeorm.Entity)({name:\"comment\",schema:\"corner\"}),_dec2=(0,_typeorm.PrimaryGeneratedColumn)(\"increment\"),_dec3=(0,_typeorm.CreateDateColumn)({type:\"timestamp\",default:function _default(){return\"CURRENT_TIMESTAMP(6)\";}}),_dec4=(0,_typeorm.Column)({type:\"int\"}),_dec5=(0,_typeorm.Column)({type:\"text\"}),_dec6=(0,_typeorm.Column)({type:\"boolean\",default:false}),_dec7=(0,_typeorm.ManyToOne)(function(){return _board.default;},function(board){return board.comments;},{onDelete:\"CASCADE\"}),_dec8=(0,_typeorm.JoinColumn)(),_dec9=(0,_typeorm.ManyToMany)(function(){return _user.default;},function(upedUsers){return upedUsers.upedComments;},{nullable:true}),_dec10=(0,_typeorm.Column)({type:\"int\",unsigned:true,default:0}),_dec(_class=(_class2=(0,_createClass2.default)(function Comment(){(0,_classCallCheck2.default)(this,Comment);(0,_initializerDefineProperty2.default)(this,\"id\",_descriptor,this);(0,_initializerDefineProperty2.default)(this,\"date\",_descriptor2,this);(0,_initializerDefineProperty2.default)(this,\"writer\",_descriptor3,this);(0,_initializerDefineProperty2.default)(this,\"contents\",_descriptor4,this);(0,_initializerDefineProperty2.default)(this,\"updated\",_descriptor5,this);(0,_initializerDefineProperty2.default)(this,\"board\",_descriptor6,this);(0,_initializerDefineProperty2.default)(this,\"upedUsers\",_descriptor7,this);(0,_initializerDefineProperty2.default)(this,\"up\",_descriptor8,this);}),(_descriptor=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"id\",[_dec2],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor2=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"date\",[_dec3],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor3=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"writer\",[_dec4],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor4=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"contents\",[_dec5],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor5=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"updated\",[_dec6],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor6=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"board\",[_dec7,_dec8],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor7=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"upedUsers\",[_dec9],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor8=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"up\",[_dec10],{configurable:true,enumerable:true,writable:true,initializer:null})),_class2))||_class);exports[\"default\"]=Comment;\n\n//# sourceURL=webpack://cordova/./src/back/model/comment.ts?");

/***/ }),

/***/ "./src/back/model/tag.ts":
/*!*******************************!*\
  !*** ./src/back/model/tag.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("var _interopRequireDefault=__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports, \"__esModule\", ({value:true}));exports[\"default\"]=void 0;var _initializerDefineProperty2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/initializerDefineProperty */ \"@babel/runtime/helpers/initializerDefineProperty\"));var _createClass2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"@babel/runtime/helpers/createClass\"));var _classCallCheck2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"@babel/runtime/helpers/classCallCheck\"));var _applyDecoratedDescriptor2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/applyDecoratedDescriptor */ \"@babel/runtime/helpers/applyDecoratedDescriptor\"));var _initializerWarningHelper2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/initializerWarningHelper */ \"@babel/runtime/helpers/initializerWarningHelper\"));var _board=_interopRequireDefault(__webpack_require__(/*! ./board */ \"./src/back/model/board.ts\"));var _typeorm=__webpack_require__(/*! typeorm */ \"typeorm\");var _userTagCount=_interopRequireDefault(__webpack_require__(/*! ./userTagCount */ \"./src/back/model/userTagCount.ts\"));var _urlTagCount=_interopRequireDefault(__webpack_require__(/*! ./urlTagCount */ \"./src/back/model/urlTagCount.ts\"));var _dec,_dec2,_dec3,_dec4,_dec5,_dec6,_dec7,_dec8,_dec9,_class,_class2,_descriptor,_descriptor2,_descriptor3,_descriptor4,_descriptor5,_descriptor6,_descriptor7,_descriptor8;var Tag=(_dec=(0,_typeorm.Entity)({name:\"tag\",schema:\"corner\"}),_dec2=(0,_typeorm.PrimaryGeneratedColumn)(\"increment\"),_dec3=(0,_typeorm.CreateDateColumn)({type:\"timestamp\",default:function _default(){return\"CURRENT_TIMESTAMP(6)\";}}),_dec4=(0,_typeorm.Column)({type:\"text\"}),_dec5=(0,_typeorm.Column)({type:\"boolean\"}),_dec6=(0,_typeorm.Column)({type:\"int\"}),_dec7=(0,_typeorm.ManyToMany)(function(){return _board.default;},function(boards){return boards.tags;}),_dec8=(0,_typeorm.ManyToOne)(function(){return _userTagCount.default;},function(userCounts){return userCounts.tag;}),_dec9=(0,_typeorm.ManyToOne)(function(){return _urlTagCount.default;},function(urlCounts){return urlCounts.tag;}),_dec(_class=(_class2=(0,_createClass2.default)(function Tag(){(0,_classCallCheck2.default)(this,Tag);(0,_initializerDefineProperty2.default)(this,\"id\",_descriptor,this);(0,_initializerDefineProperty2.default)(this,\"date\",_descriptor2,this);(0,_initializerDefineProperty2.default)(this,\"name\",_descriptor3,this);(0,_initializerDefineProperty2.default)(this,\"isUrl\",_descriptor4,this);(0,_initializerDefineProperty2.default)(this,\"count\",_descriptor5,this);(0,_initializerDefineProperty2.default)(this,\"boards\",_descriptor6,this);(0,_initializerDefineProperty2.default)(this,\"userCounts\",_descriptor7,this);(0,_initializerDefineProperty2.default)(this,\"urlCounts\",_descriptor8,this);}),(_descriptor=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"id\",[_dec2],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor2=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"date\",[_dec3],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor3=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"name\",[_dec4],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor4=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"isUrl\",[_dec5],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor5=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"count\",[_dec6],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor6=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"boards\",[_dec7],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor7=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"userCounts\",[_dec8],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor8=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"urlCounts\",[_dec9],{configurable:true,enumerable:true,writable:true,initializer:null})),_class2))||_class);exports[\"default\"]=Tag;\n\n//# sourceURL=webpack://cordova/./src/back/model/tag.ts?");

/***/ }),

/***/ "./src/back/model/url.ts":
/*!*******************************!*\
  !*** ./src/back/model/url.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("var _interopRequireDefault=__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports, \"__esModule\", ({value:true}));exports[\"default\"]=void 0;var _initializerDefineProperty2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/initializerDefineProperty */ \"@babel/runtime/helpers/initializerDefineProperty\"));var _createClass2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"@babel/runtime/helpers/createClass\"));var _classCallCheck2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"@babel/runtime/helpers/classCallCheck\"));var _applyDecoratedDescriptor2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/applyDecoratedDescriptor */ \"@babel/runtime/helpers/applyDecoratedDescriptor\"));var _initializerWarningHelper2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/initializerWarningHelper */ \"@babel/runtime/helpers/initializerWarningHelper\"));var _board=_interopRequireDefault(__webpack_require__(/*! ./board */ \"./src/back/model/board.ts\"));var _user=_interopRequireDefault(__webpack_require__(/*! ./user */ \"./src/back/model/user.ts\"));var _typeorm=__webpack_require__(/*! typeorm */ \"typeorm\");var _userUrlCount=_interopRequireDefault(__webpack_require__(/*! ./userUrlCount */ \"./src/back/model/userUrlCount.ts\"));var _urlTagCount=_interopRequireDefault(__webpack_require__(/*! ./urlTagCount */ \"./src/back/model/urlTagCount.ts\"));var _dec,_dec2,_dec3,_dec4,_dec5,_dec6,_dec7,_dec8,_dec9,_dec10,_class,_class2,_descriptor,_descriptor2,_descriptor3,_descriptor4,_descriptor5,_descriptor6,_descriptor7,_descriptor8,_descriptor9;var Url=(_dec=(0,_typeorm.Entity)({name:\"url\",schema:\"corner\"}),_dec2=(0,_typeorm.PrimaryGeneratedColumn)(\"increment\"),_dec3=(0,_typeorm.CreateDateColumn)({type:\"timestamp\",default:function _default(){return\"CURRENT_TIMESTAMP(6)\";}}),_dec4=(0,_typeorm.Column)({type:\"text\"}),_dec5=(0,_typeorm.Column)({type:\"int\"}),_dec6=(0,_typeorm.Column)({type:\"boolean\",default:false}),_dec7=(0,_typeorm.OneToMany)(function(){return _board.default;},function(boards){return boards.tags;},{nullable:true}),_dec8=(0,_typeorm.ManyToMany)(function(){return _user.default;},function(bannedUsers){return bannedUsers.bannedURLs;}),_dec9=(0,_typeorm.ManyToOne)(function(){return _userUrlCount.default;},function(userCounts){return userCounts.url;}),_dec10=(0,_typeorm.ManyToOne)(function(){return _urlTagCount.default;},function(tagCounts){return tagCounts.url;}),_dec(_class=(_class2=(0,_createClass2.default)(function Url(){(0,_classCallCheck2.default)(this,Url);(0,_initializerDefineProperty2.default)(this,\"id\",_descriptor,this);(0,_initializerDefineProperty2.default)(this,\"date\",_descriptor2,this);(0,_initializerDefineProperty2.default)(this,\"name\",_descriptor3,this);(0,_initializerDefineProperty2.default)(this,\"count\",_descriptor4,this);(0,_initializerDefineProperty2.default)(this,\"isHostname\",_descriptor5,this);(0,_initializerDefineProperty2.default)(this,\"boards\",_descriptor6,this);(0,_initializerDefineProperty2.default)(this,\"bannedUsers\",_descriptor7,this);(0,_initializerDefineProperty2.default)(this,\"userCounts\",_descriptor8,this);(0,_initializerDefineProperty2.default)(this,\"tagCounts\",_descriptor9,this);}),(_descriptor=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"id\",[_dec2],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor2=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"date\",[_dec3],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor3=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"name\",[_dec4],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor4=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"count\",[_dec5],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor5=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"isHostname\",[_dec6],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor6=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"boards\",[_dec7],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor7=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"bannedUsers\",[_dec8],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor8=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"userCounts\",[_dec9],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor9=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"tagCounts\",[_dec10],{configurable:true,enumerable:true,writable:true,initializer:null})),_class2))||_class);exports[\"default\"]=Url;\n\n//# sourceURL=webpack://cordova/./src/back/model/url.ts?");

/***/ }),

/***/ "./src/back/model/urlTagCount.ts":
/*!***************************************!*\
  !*** ./src/back/model/urlTagCount.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("var _interopRequireDefault=__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports, \"__esModule\", ({value:true}));exports[\"default\"]=void 0;var _initializerDefineProperty2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/initializerDefineProperty */ \"@babel/runtime/helpers/initializerDefineProperty\"));var _createClass2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"@babel/runtime/helpers/createClass\"));var _classCallCheck2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"@babel/runtime/helpers/classCallCheck\"));var _applyDecoratedDescriptor2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/applyDecoratedDescriptor */ \"@babel/runtime/helpers/applyDecoratedDescriptor\"));var _initializerWarningHelper2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/initializerWarningHelper */ \"@babel/runtime/helpers/initializerWarningHelper\"));var _tag=_interopRequireDefault(__webpack_require__(/*! ./tag */ \"./src/back/model/tag.ts\"));var _url=_interopRequireDefault(__webpack_require__(/*! ./url */ \"./src/back/model/url.ts\"));var _typeorm=__webpack_require__(/*! typeorm */ \"typeorm\");var _dec,_dec2,_dec3,_dec4,_dec5,_class,_class2,_descriptor,_descriptor2,_descriptor3,_descriptor4;var UrlTagCount=(_dec=(0,_typeorm.Entity)({name:\"urlTagCount\",schema:\"corner\"}),_dec2=(0,_typeorm.PrimaryGeneratedColumn)(\"increment\"),_dec3=(0,_typeorm.ManyToOne)(function(){return _url.default;},function(url){return url.tagCounts;}),_dec4=(0,_typeorm.ManyToOne)(function(){return _tag.default;},function(tag){return tag.urlCounts;}),_dec5=(0,_typeorm.Column)({type:\"int\",default:0}),_dec(_class=(_class2=(0,_createClass2.default)(function UrlTagCount(){(0,_classCallCheck2.default)(this,UrlTagCount);(0,_initializerDefineProperty2.default)(this,\"id\",_descriptor,this);(0,_initializerDefineProperty2.default)(this,\"url\",_descriptor2,this);(0,_initializerDefineProperty2.default)(this,\"tag\",_descriptor3,this);(0,_initializerDefineProperty2.default)(this,\"count\",_descriptor4,this);}),(_descriptor=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"id\",[_dec2],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor2=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"url\",[_dec3],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor3=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"tag\",[_dec4],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor4=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"count\",[_dec5],{configurable:true,enumerable:true,writable:true,initializer:null})),_class2))||_class);exports[\"default\"]=UrlTagCount;\n\n//# sourceURL=webpack://cordova/./src/back/model/urlTagCount.ts?");

/***/ }),

/***/ "./src/back/model/user.ts":
/*!********************************!*\
  !*** ./src/back/model/user.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("var _interopRequireDefault=__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports, \"__esModule\", ({value:true}));exports[\"default\"]=void 0;var _initializerDefineProperty2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/initializerDefineProperty */ \"@babel/runtime/helpers/initializerDefineProperty\"));var _createClass2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"@babel/runtime/helpers/createClass\"));var _classCallCheck2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"@babel/runtime/helpers/classCallCheck\"));var _applyDecoratedDescriptor2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/applyDecoratedDescriptor */ \"@babel/runtime/helpers/applyDecoratedDescriptor\"));var _initializerWarningHelper2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/initializerWarningHelper */ \"@babel/runtime/helpers/initializerWarningHelper\"));var _typeorm=__webpack_require__(/*! typeorm */ \"typeorm\");var _board=_interopRequireDefault(__webpack_require__(/*! ./board */ \"./src/back/model/board.ts\"));var _comment=_interopRequireDefault(__webpack_require__(/*! ./comment */ \"./src/back/model/comment.ts\"));var _userTagCount=_interopRequireDefault(__webpack_require__(/*! ./userTagCount */ \"./src/back/model/userTagCount.ts\"));var _userUrlCount=_interopRequireDefault(__webpack_require__(/*! ./userUrlCount */ \"./src/back/model/userUrlCount.ts\"));var _url=_interopRequireDefault(__webpack_require__(/*! ./url */ \"./src/back/model/url.ts\"));var _dec,_dec2,_dec3,_dec4,_dec5,_dec6,_dec7,_dec8,_dec9,_dec10,_dec11,_dec12,_dec13,_dec14,_dec15,_dec16,_dec17,_dec18,_dec19,_dec20,_dec21,_dec22,_dec23,_dec24,_dec25,_dec26,_class,_class2,_descriptor,_descriptor2,_descriptor3,_descriptor4,_descriptor5,_descriptor6,_descriptor7,_descriptor8,_descriptor9,_descriptor10,_descriptor11,_descriptor12,_descriptor13,_descriptor14,_descriptor15,_descriptor16,_descriptor17,_descriptor18;var User=(_dec=(0,_typeorm.Entity)({name:\"user\",schema:\"corner\"}),_dec2=(0,_typeorm.PrimaryGeneratedColumn)(\"increment\"),_dec3=(0,_typeorm.Column)({type:\"varchar\"}),_dec4=(0,_typeorm.Column)({type:\"varchar\"}),_dec5=(0,_typeorm.Column)({type:\"varchar\",nullable:true}),_dec6=(0,_typeorm.Column)({type:\"varchar\",nullable:true}),_dec7=(0,_typeorm.Column)({type:\"boolean\",default:true}),_dec8=(0,_typeorm.CreateDateColumn)({name:\"recent-login-date\"}),_dec9=(0,_typeorm.CreateDateColumn)({name:\"create-date\"}),_dec10=(0,_typeorm.Column)({type:\"timestamp\",nullable:true,name:\"withdraw-date\"}),_dec11=(0,_typeorm.ManyToMany)(function(){return _board.default;},function(upedBoards){return upedBoards.upedUsers;}),_dec12=(0,_typeorm.JoinTable)(),_dec13=(0,_typeorm.ManyToMany)(function(){return _comment.default;},function(upedComments){return upedComments.upedUsers;}),_dec14=(0,_typeorm.JoinTable)(),_dec15=(0,_typeorm.ManyToMany)(function(){return User;},function(followings){return followings.followers;}),_dec16=(0,_typeorm.JoinTable)({joinColumn:{name:\"followerKey\",referencedColumnName:\"key\"},inverseJoinColumn:{name:\"followedKey\",referencedColumnName:\"key\"}}),_dec17=(0,_typeorm.ManyToMany)(function(){return User;},function(followers){return followers.followings;},{onDelete:\"CASCADE\"}),_dec18=(0,_typeorm.ManyToMany)(function(){return User;},function(blockeds){return blockeds.blockers;}),_dec19=(0,_typeorm.JoinTable)({joinColumn:{name:\"blockersKey\",referencedColumnName:\"key\"},inverseJoinColumn:{name:\"blockedsKey\",referencedColumnName:\"key\"}}),_dec20=(0,_typeorm.ManyToMany)(function(){return User;},function(blockers){return blockers.blockeds;},{onDelete:\"CASCADE\"}),_dec21=(0,_typeorm.ManyToMany)(function(){return _url.default;},function(bannedURLs){return bannedURLs.bannedUsers;}),_dec22=(0,_typeorm.JoinTable)(),_dec23=(0,_typeorm.OneToMany)(function(){return _userTagCount.default;},function(tagCounts){return tagCounts.user;}),_dec24=(0,_typeorm.JoinColumn)(),_dec25=(0,_typeorm.OneToMany)(function(){return _userUrlCount.default;},function(urlCounts){return urlCounts.user;}),_dec26=(0,_typeorm.JoinColumn)(),_dec(_class=(_class2=(0,_createClass2.default)(function User(){(0,_classCallCheck2.default)(this,User);(0,_initializerDefineProperty2.default)(this,\"key\",_descriptor,this);(0,_initializerDefineProperty2.default)(this,\"socialId\",_descriptor2,this);(0,_initializerDefineProperty2.default)(this,\"name\",_descriptor3,this);(0,_initializerDefineProperty2.default)(this,\"email\",_descriptor4,this);(0,_initializerDefineProperty2.default)(this,\"image\",_descriptor5,this);(0,_initializerDefineProperty2.default)(this,\"agree\",_descriptor6,this);(0,_initializerDefineProperty2.default)(this,\"recentLoginDate\",_descriptor7,this);(0,_initializerDefineProperty2.default)(this,\"createDate\",_descriptor8,this);(0,_initializerDefineProperty2.default)(this,\"withdrawDate\",_descriptor9,this);(0,_initializerDefineProperty2.default)(this,\"upedBoards\",_descriptor10,this);(0,_initializerDefineProperty2.default)(this,\"upedComments\",_descriptor11,this);(0,_initializerDefineProperty2.default)(this,\"followings\",_descriptor12,this);(0,_initializerDefineProperty2.default)(this,\"followers\",_descriptor13,this);(0,_initializerDefineProperty2.default)(this,\"blockeds\",_descriptor14,this);(0,_initializerDefineProperty2.default)(this,\"blockers\",_descriptor15,this);(0,_initializerDefineProperty2.default)(this,\"bannedURLs\",_descriptor16,this);(0,_initializerDefineProperty2.default)(this,\"tagCounts\",_descriptor17,this);(0,_initializerDefineProperty2.default)(this,\"urlCounts\",_descriptor18,this);}),(_descriptor=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"key\",[_dec2],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor2=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"socialId\",[_dec3],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor3=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"name\",[_dec4],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor4=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"email\",[_dec5],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor5=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"image\",[_dec6],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor6=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"agree\",[_dec7],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor7=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"recentLoginDate\",[_dec8],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor8=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"createDate\",[_dec9],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor9=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"withdrawDate\",[_dec10],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor10=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"upedBoards\",[_dec11,_dec12],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor11=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"upedComments\",[_dec13,_dec14],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor12=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"followings\",[_dec15,_dec16],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor13=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"followers\",[_dec17],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor14=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"blockeds\",[_dec18,_dec19],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor15=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"blockers\",[_dec20],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor16=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"bannedURLs\",[_dec21,_dec22],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor17=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"tagCounts\",[_dec23,_dec24],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor18=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"urlCounts\",[_dec25,_dec26],{configurable:true,enumerable:true,writable:true,initializer:null})),_class2))||_class);exports[\"default\"]=User;\n\n//# sourceURL=webpack://cordova/./src/back/model/user.ts?");

/***/ }),

/***/ "./src/back/model/userTagCount.ts":
/*!****************************************!*\
  !*** ./src/back/model/userTagCount.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("var _interopRequireDefault=__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports, \"__esModule\", ({value:true}));exports[\"default\"]=void 0;var _initializerDefineProperty2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/initializerDefineProperty */ \"@babel/runtime/helpers/initializerDefineProperty\"));var _createClass2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"@babel/runtime/helpers/createClass\"));var _classCallCheck2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"@babel/runtime/helpers/classCallCheck\"));var _applyDecoratedDescriptor2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/applyDecoratedDescriptor */ \"@babel/runtime/helpers/applyDecoratedDescriptor\"));var _initializerWarningHelper2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/initializerWarningHelper */ \"@babel/runtime/helpers/initializerWarningHelper\"));var _tag=_interopRequireDefault(__webpack_require__(/*! ./tag */ \"./src/back/model/tag.ts\"));var _user=_interopRequireDefault(__webpack_require__(/*! ./user */ \"./src/back/model/user.ts\"));var _typeorm=__webpack_require__(/*! typeorm */ \"typeorm\");var _dec,_dec2,_dec3,_dec4,_dec5,_class,_class2,_descriptor,_descriptor2,_descriptor3,_descriptor4;var UserTagCount=(_dec=(0,_typeorm.Entity)({name:\"userTagCount\",schema:\"corner\"}),_dec2=(0,_typeorm.PrimaryGeneratedColumn)(\"increment\"),_dec3=(0,_typeorm.ManyToOne)(function(){return _user.default;},function(user){return user.tagCounts;}),_dec4=(0,_typeorm.ManyToOne)(function(){return _tag.default;},function(tag){return tag.userCounts;}),_dec5=(0,_typeorm.Column)({type:\"int\",default:0}),_dec(_class=(_class2=(0,_createClass2.default)(function UserTagCount(){(0,_classCallCheck2.default)(this,UserTagCount);(0,_initializerDefineProperty2.default)(this,\"id\",_descriptor,this);(0,_initializerDefineProperty2.default)(this,\"user\",_descriptor2,this);(0,_initializerDefineProperty2.default)(this,\"tag\",_descriptor3,this);(0,_initializerDefineProperty2.default)(this,\"count\",_descriptor4,this);}),(_descriptor=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"id\",[_dec2],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor2=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"user\",[_dec3],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor3=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"tag\",[_dec4],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor4=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"count\",[_dec5],{configurable:true,enumerable:true,writable:true,initializer:null})),_class2))||_class);exports[\"default\"]=UserTagCount;\n\n//# sourceURL=webpack://cordova/./src/back/model/userTagCount.ts?");

/***/ }),

/***/ "./src/back/model/userUrlCount.ts":
/*!****************************************!*\
  !*** ./src/back/model/userUrlCount.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("var _interopRequireDefault=__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports, \"__esModule\", ({value:true}));exports[\"default\"]=void 0;var _initializerDefineProperty2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/initializerDefineProperty */ \"@babel/runtime/helpers/initializerDefineProperty\"));var _createClass2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"@babel/runtime/helpers/createClass\"));var _classCallCheck2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"@babel/runtime/helpers/classCallCheck\"));var _applyDecoratedDescriptor2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/applyDecoratedDescriptor */ \"@babel/runtime/helpers/applyDecoratedDescriptor\"));var _initializerWarningHelper2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/initializerWarningHelper */ \"@babel/runtime/helpers/initializerWarningHelper\"));var _url=_interopRequireDefault(__webpack_require__(/*! ./url */ \"./src/back/model/url.ts\"));var _user=_interopRequireDefault(__webpack_require__(/*! ./user */ \"./src/back/model/user.ts\"));var _typeorm=__webpack_require__(/*! typeorm */ \"typeorm\");var _dec,_dec2,_dec3,_dec4,_dec5,_class,_class2,_descriptor,_descriptor2,_descriptor3,_descriptor4;var UserUrlCount=(_dec=(0,_typeorm.Entity)({name:\"userUrlCount\",schema:\"corner\"}),_dec2=(0,_typeorm.PrimaryGeneratedColumn)(\"increment\"),_dec3=(0,_typeorm.ManyToOne)(function(){return _user.default;},function(user){return user.tagCounts;}),_dec4=(0,_typeorm.ManyToOne)(function(){return _url.default;},function(url){return url.userCounts;}),_dec5=(0,_typeorm.Column)({type:\"int\",default:0}),_dec(_class=(_class2=(0,_createClass2.default)(function UserUrlCount(){(0,_classCallCheck2.default)(this,UserUrlCount);(0,_initializerDefineProperty2.default)(this,\"id\",_descriptor,this);(0,_initializerDefineProperty2.default)(this,\"user\",_descriptor2,this);(0,_initializerDefineProperty2.default)(this,\"url\",_descriptor3,this);(0,_initializerDefineProperty2.default)(this,\"count\",_descriptor4,this);}),(_descriptor=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"id\",[_dec2],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor2=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"user\",[_dec3],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor3=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"url\",[_dec4],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor4=(0,_applyDecoratedDescriptor2.default)(_class2.prototype,\"count\",[_dec5],{configurable:true,enumerable:true,writable:true,initializer:null})),_class2))||_class);exports[\"default\"]=UserUrlCount;\n\n//# sourceURL=webpack://cordova/./src/back/model/userUrlCount.ts?");

/***/ }),

/***/ "./src/back/reactNest.ts":
/*!*******************************!*\
  !*** ./src/back/reactNest.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("var _interopRequireDefault=__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports, \"__esModule\", ({value:true}));exports.engine=engine;exports.pageBuilder=pageBuilder;var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"@babel/runtime/helpers/asyncToGenerator\"));var _setting=__webpack_require__(/*! ./util/setting */ \"./src/back/util/setting.ts\");var _Language=__webpack_require__(/*! front/@lib/Language */ \"./src/front/@lib/Language.tsx\");var _language=__webpack_require__(/*! ./util/language */ \"./src/back/util/language.ts\");var htmlTemplete=(0,_setting.fileInBuild)(\"index.html\").toString();var nestRegExp=/(\"?)\\/\\*\\{(.+?)\\}\\*\\/\\1/g;function createReader(key){return new RegExp(`(\"?)/\\\\* %%${key}%% \\\\*/\\\\1`,\"g\");}function pageBuilder(page,data){return function(){var _ref=(0,_asyncToGenerator2.default)(function*(req,res){res.render(page,{locale:req.locale,page:page,path:req.originalUrl,title:\"corner\",data:data});});return function(_x,_x2){return _ref.apply(this,arguments);};}();}function engine(path,$,callback){(0,_Language.setTable)((0,_language.getLanguageTable)($.locale,$.page));var CLIENT_SETTINGS={};var html=htmlTemplete.replace(nestRegExp,function(v,p1,p2){return String(eval(p2));});void CLIENT_SETTINGS;callback(null,html);}\n\n//# sourceURL=webpack://cordova/./src/back/reactNest.ts?");

/***/ }),

/***/ "./src/back/util/language.ts":
/*!***********************************!*\
  !*** ./src/back/util/language.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("var _interopRequireDefault=__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports, \"__esModule\", ({value:true}));exports.L=L;exports.getLanguageTable=getLanguageTable;exports.getLocale=getLocale;exports.loadLanguages=loadLanguages;var _setting=__webpack_require__(/*! ./setting */ \"./src/back/util/setting.ts\");var _utility=__webpack_require__(/*! ./utility */ \"./src/back/util/utility.ts\");var _logger=__webpack_require__(/*! ./logger */ \"./src/back/util/logger.ts\");var _acceptLanguageParser=_interopRequireDefault(__webpack_require__(/*! accept-language-parser */ \"accept-language-parser\"));var LANGUAGE_SUPPORT=Object.keys(_setting.SETTINGS[\"language-support\"]);var LANGUAGES;function L(key){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}return args.length?_utility.resolveLanguageArguments.apply(void 0,[LANGUAGES[key]].concat(args)):LANGUAGES[key];}function getLanguageTable(locale,page){return JSON.parse(LANGUAGES[`${locale}/${page}`]);}function getLocale(req){var R=req.cookies[\"corner.locale\"];if(!LANGUAGES||!LANGUAGES[R]){R=_acceptLanguageParser.default.pick(LANGUAGE_SUPPORT,String(req.headers[\"accept-language\"]))||LANGUAGE_SUPPORT[0];}return R;}function loadLanguages(){var prototables=(0,_utility.reduceToTable)(LANGUAGE_SUPPORT,function(v){return JSON.parse((0,_setting.fileInPublic)(`lang/${v}.json`).toString());});var R={};var _loop=function _loop(){var prototable=prototables[locale];for(var page in prototable){if(page[0]===\"$\"||page[0]===\"@\")continue;var key=`${locale}/${page}`;var pageTable=prototable[page]||{};var table=Object.assign({},prototable.$global||{},(pageTable.$include||[]).reduce(resolveDependency,{}),pageTable);delete table.$include;R[key]=JSON.stringify(table);R[`${key}#title`]=table.title;}function resolveDependency(pv,v){var pageTable=prototable[`@${v}`]||{};return Object.assign(pv,Object.assign({},(pageTable.$include||[]).reduce(resolveDependency,{}),pageTable));}};for(var locale in prototables){_loop();}LANGUAGES=R;_logger.Logger.passSignificant(\"Languages has been updated.\").out();}\n\n//# sourceURL=webpack://cordova/./src/back/util/language.ts?");

/***/ }),

/***/ "./src/back/util/logger.ts":
/*!*********************************!*\
  !*** ./src/back/util/logger.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("var _interopRequireDefault=__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports, \"__esModule\", ({value:true}));exports.Logger=exports.LogStyle=exports.LogLevel=exports.LogColor=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"@babel/runtime/helpers/defineProperty\"));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"@babel/runtime/helpers/asyncToGenerator\"));var _slicedToArray2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"@babel/runtime/helpers/slicedToArray\"));var _toConsumableArray2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"@babel/runtime/helpers/toConsumableArray\"));var _classCallCheck2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"@babel/runtime/helpers/createClass\"));var _unitDate=__webpack_require__(/*! common/unitDate */ \"./src/common/unitDate.ts\");var _utility=__webpack_require__(/*! ./utility */ \"./src/back/util/utility.ts\");var _applicationCode=__webpack_require__(/*! common/applicationCode */ \"./src/common/applicationCode.ts\");var _Logger$WEBKIT_STYLE_;var fs;var setting;var LogColor=function(LogColor){LogColor[LogColor[\"NORMAL\"]=0]=\"NORMAL\";LogColor[LogColor[\"BRIGHT\"]=1]=\"BRIGHT\";LogColor[LogColor[\"DIM\"]=2]=\"DIM\";LogColor[LogColor[\"UNDERSCORE\"]=4]=\"UNDERSCORE\";LogColor[LogColor[\"F_BLACK\"]=30]=\"F_BLACK\";LogColor[LogColor[\"F_RED\"]=31]=\"F_RED\";LogColor[LogColor[\"F_GREEN\"]=32]=\"F_GREEN\";LogColor[LogColor[\"F_YELLOW\"]=33]=\"F_YELLOW\";LogColor[LogColor[\"F_BLUE\"]=34]=\"F_BLUE\";LogColor[LogColor[\"F_MAGENTA\"]=35]=\"F_MAGENTA\";LogColor[LogColor[\"F_CYAN\"]=36]=\"F_CYAN\";LogColor[LogColor[\"F_WHITE\"]=37]=\"F_WHITE\";LogColor[LogColor[\"B_BLACK\"]=40]=\"B_BLACK\";LogColor[LogColor[\"B_RED\"]=41]=\"B_RED\";LogColor[LogColor[\"B_GREEN\"]=42]=\"B_GREEN\";LogColor[LogColor[\"B_YELLOW\"]=43]=\"B_YELLOW\";LogColor[LogColor[\"B_BLUE\"]=44]=\"B_BLUE\";LogColor[LogColor[\"B_MAGENTA\"]=45]=\"B_MAGENTA\";LogColor[LogColor[\"B_CYAN\"]=46]=\"B_CYAN\";LogColor[LogColor[\"B_WHITE\"]=47]=\"B_WHITE\";return LogColor;}({});exports.LogColor=LogColor;var LogLevel=function(LogLevel){LogLevel[LogLevel[\"APP_PASS\"]=0]=\"APP_PASS\";LogLevel[LogLevel[\"SIG_PASS\"]=1]=\"SIG_PASS\";LogLevel[LogLevel[\"APP_ERROR\"]=2]=\"APP_ERROR\";LogLevel[LogLevel[\"SIG_ERROR\"]=3]=\"SIG_ERROR\";return LogLevel;}({});exports.LogLevel=LogLevel;var Logger=function(){function Logger(){var type=arguments.length>0&&arguments[0]!==undefined?arguments[0]:LogLevel.APP_PASS;var title=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"\";(0,_classCallCheck2.default)(this,Logger);this.head=\"\";var caller=Logger.getCaller();this.type=type;this.list=[];this.timestamp=`[${Logger.getLocalISODate()}]`;this.chunk=[];this.putS(LogStyle.TIMESTAMP,this.timestamp);if(caller){var fileLimit=Logger.CALLER_LENGTH-String(caller.line).length;this.putS(LogStyle.CALLER_FILE,\" \",(0,_utility.cut)(caller.file,fileLimit).padStart(fileLimit,\" \"));this.putS(LogStyle.CALLER_LINE,\":\",caller.line,\" \");this.putS(LogStyle.CALLER,(0,_utility.cut)(caller.function,Logger.CALLER_LENGTH).padEnd(Logger.CALLER_LENGTH,\" \"),\" \");}switch(type){case LogLevel.APP_PASS:this.putS(LogStyle.TYPE_NORMAL,\"(:)\");break;case LogLevel.APP_ERROR:this.putS(LogStyle.TYPE_WARNING,\"()\");break;case LogLevel.SIG_PASS:this.putS(LogStyle.TYPE_SUCCESS,\"()\");break;case LogLevel.SIG_ERROR:this.putS(LogStyle.TYPE_ERROR,\"()\");break;}if(title){this.putS(LogStyle.TITLE,\" [\",title,\"]\");}this.put(\" \");}(0,_createClass2.default)(Logger,[{key:\"getText\",value:function getText(){var maxDigit=this.list.reduce(function(pv,v){var _v$;return pv<((_v$=v[0])==null?void 0:_v$.length)?v[0].length:pv;},1);var prefix=\" \".repeat(this.timestamp.length+2*Logger.CALLER_LENGTH+5);var last=this.list.length-2;return[this.list[0][1]].concat((0,_toConsumableArray2.default)(this.list.slice(1).map(function(_ref,i){var _ref2=(0,_slicedToArray2.default)(_ref,2),head=_ref2[0],body=_ref2[1];return`${prefix}${Logger.escape(LogStyle.LINE)}${i===last?\"\":\"\"} ${(head!=null?head:String(i)).padEnd(maxDigit,\" \")}${Logger.escape()}: ${body}`;}))).join(\"\\n\");}},{key:\"next\",value:function next(head){this.list.push([this.head,this.chunk.join(\"\")]);this.head=head;this.chunk=[];return this;}},{key:\"out\",value:function out(){var _console,_console2,_console3;if(this.chunk.length){this.next(\"\");}var text=this.getText();var args=[];if(_utility.FRONT){text=text.replace(Logger.REGEXP_ANSI_ESCAPE,function(v,p1){args.push(Logger.WEBKIT_STYLE_TABLE[p1]);return\"%c\";});}else if(Logger.recentFileInfo){Logger.recentFileInfo.stream.write(`${text.replace(Logger.REGEXP_ANSI_ESCAPE,\"\")}\\n`);}switch(this.type){case LogLevel.APP_PASS:(_console=console).log.apply(_console,[text].concat(args));break;case LogLevel.APP_ERROR:(_console2=console).warn.apply(_console2,[text].concat(args));break;case LogLevel.SIG_ERROR:(_console3=console).error.apply(_console3,[text].concat(args));break;}}},{key:\"put\",value:function put(arg){this.chunk.push(arg+\" \");return this;}},{key:\"putS\",value:function putS(value){var _this$chunk;for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}(_this$chunk=this.chunk).push.apply(_this$chunk,[Logger.escape(value)].concat(args,[Logger.escape()]));return this;}}],[{key:\"initialize\",value:function(){var _initialize=(0,_asyncToGenerator2.default)(function*(subject){fs=yield Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! fs */ \"fs\", 23));setting=yield Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! back/util/setting */ \"./src/back/util/setting.ts\"));Logger.subject=subject;if(!fs.existsSync(Logger.directoryPath)){fs.mkdirSync(Logger.directoryPath,{recursive:true});}if(setting.SETTINGS.log.interval){setting.schedule(Logger.shiftFile,setting.SETTINGS.log.interval,{callAtStart:true,punctual:true});}else Logger.errorSignificant().put(\"Log files won't be generated.\").out();});function initialize(_x){return _initialize.apply(this,arguments);}return initialize;}()},{key:\"errorSignificant\",value:function errorSignificant(title){return new Logger(LogLevel.SIG_ERROR,title);}},{key:\"errorApp\",value:function errorApp(c){return new Logger(LogLevel.APP_ERROR,_applicationCode.ErrorCode[c]);}},{key:\"passApp\",value:function passApp(title){return new Logger(LogLevel.APP_PASS,title);}},{key:\"passSignificant\",value:function passSignificant(title){return new Logger(LogLevel.SIG_PASS,title);}},{key:\"escape\",value:function escape(){var style=arguments.length>0&&arguments[0]!==undefined?arguments[0]:LogStyle.NORMAL;return style.reduce(function(pv,v){return`${pv}\\x1b[${v}m`;},\"\");}},{key:\"getCaller\",value:function getCaller(){var _Error$stack;var error=(_Error$stack=new Error().stack)==null?void 0:_Error$stack.split(\"\\n\");if(error){for(var level=4;level<error.length;level++){var chunk=void 0;if(chunk=error[level].match(Logger.REGEXP_CALLER)){return{file:chunk[2],line:Number(chunk[3]),function:chunk[1]};}if(chunk=error[level].match(Logger.REGEXP_CALLER_ANONYMOUS)){return{file:chunk[1],line:Number(chunk[2]),function:`:${chunk[3]} (Unknown)`};}}}return null;}},{key:\"getLocalFileNameDate\",value:function getLocalFileNameDate(){var now=new Date();return[String(now.getFullYear()%100).padStart(2,\"0\"),String(now.getMonth()+1).padStart(2,\"0\"),String(now.getDate()).padStart(2,\"0\"),\"-\",String(now.getHours()).padStart(2,\"0\"),String(now.getMinutes()).padStart(2,\"0\"),String(now.getSeconds()).padStart(2,\"0\")].join(\"\");}},{key:\"getLocalISODate\",value:function getLocalISODate(){var now=new Date();var offset=-Math.round(_utility.TIMEZONE_OFFSET/_unitDate.UnitDate.HOUR)||\"\";return new Date(now.getTime()-_utility.TIMEZONE_OFFSET).toISOString()+(offset&&(0,_utility.toSignedString)(offset));}},{key:\"shiftFile\",value:function shiftFile(){var fileName=Logger.getLocalFileNameDate();var path=`${Logger.directoryPath}/${fileName}.log`;if(Logger.recentFileInfo){Logger.recentFileInfo.stream.end();}Logger.recentFileInfo={stream:fs.createWriteStream(path),path:path,createdAt:Date.now()};Logger.passApp(Logger.subject).next(\"Path\").put(fileName).out();}},{key:\"directoryPath\",get:function get(){return`${__dirname}/../../${setting.SETTINGS.log.directory}/${Logger.subject}`;}}]);return Logger;}();exports.Logger=Logger;Logger.REGEXP_ANSI_ESCAPE=/\\x1b\\[(\\d+)m/g;Logger.REGEXP_CALLER=/^\\s*at (.+) \\(.+?([^\\\\/]+):(\\d+):\\d+\\)$/;Logger.REGEXP_CALLER_ANONYMOUS=/^\\s*at .+?([^\\\\/]+):(\\d+):(\\d+)$/;Logger.CALLER_LENGTH=20;Logger.WEBKIT_STYLE_TABLE=(_Logger$WEBKIT_STYLE_={},(0,_defineProperty2.default)(_Logger$WEBKIT_STYLE_,LogColor.NORMAL,\"\"),(0,_defineProperty2.default)(_Logger$WEBKIT_STYLE_,LogColor.BRIGHT,\"font-weight: bold\"),(0,_defineProperty2.default)(_Logger$WEBKIT_STYLE_,LogColor.DIM,\"font-style: italic\"),(0,_defineProperty2.default)(_Logger$WEBKIT_STYLE_,LogColor.UNDERSCORE,\"text-decoration: underline\"),(0,_defineProperty2.default)(_Logger$WEBKIT_STYLE_,LogColor.F_BLACK,\"color: black\"),(0,_defineProperty2.default)(_Logger$WEBKIT_STYLE_,LogColor.F_RED,\"color: red\"),(0,_defineProperty2.default)(_Logger$WEBKIT_STYLE_,LogColor.F_GREEN,\"color: green\"),(0,_defineProperty2.default)(_Logger$WEBKIT_STYLE_,LogColor.F_YELLOW,\"color: yellow\"),(0,_defineProperty2.default)(_Logger$WEBKIT_STYLE_,LogColor.F_BLUE,\"color: blue\"),(0,_defineProperty2.default)(_Logger$WEBKIT_STYLE_,LogColor.F_MAGENTA,\"color: magenta\"),(0,_defineProperty2.default)(_Logger$WEBKIT_STYLE_,LogColor.F_CYAN,\"color: deepskyblue\"),(0,_defineProperty2.default)(_Logger$WEBKIT_STYLE_,LogColor.F_WHITE,\"color: white\"),(0,_defineProperty2.default)(_Logger$WEBKIT_STYLE_,LogColor.B_BLACK,\"background: black\"),(0,_defineProperty2.default)(_Logger$WEBKIT_STYLE_,LogColor.B_RED,\"background: red\"),(0,_defineProperty2.default)(_Logger$WEBKIT_STYLE_,LogColor.B_GREEN,\"background: green\"),(0,_defineProperty2.default)(_Logger$WEBKIT_STYLE_,LogColor.B_YELLOW,\"background: yellow\"),(0,_defineProperty2.default)(_Logger$WEBKIT_STYLE_,LogColor.B_BLUE,\"background: blue\"),(0,_defineProperty2.default)(_Logger$WEBKIT_STYLE_,LogColor.B_MAGENTA,\"background: magenta\"),(0,_defineProperty2.default)(_Logger$WEBKIT_STYLE_,LogColor.B_CYAN,\"background: cyan\"),(0,_defineProperty2.default)(_Logger$WEBKIT_STYLE_,LogColor.B_WHITE,\"background: white\"),_Logger$WEBKIT_STYLE_);var LogStyle=(0,_createClass2.default)(function LogStyle(){(0,_classCallCheck2.default)(this,LogStyle);});exports.LogStyle=LogStyle;LogStyle.NORMAL=[LogColor.NORMAL];LogStyle.CALLER=[LogColor.F_CYAN];LogStyle.CALLER_PID=[LogColor.F_MAGENTA];LogStyle.CALLER_FILE=[LogColor.BRIGHT,LogColor.F_CYAN];LogStyle.CALLER_LINE=[LogColor.NORMAL];LogStyle.LINE=[LogColor.BRIGHT];LogStyle.METHOD=[LogColor.F_YELLOW];LogStyle.TIMESTAMP=[LogColor.F_BLUE];LogStyle.TARGET=[LogColor.BRIGHT,LogColor.F_BLUE];LogStyle.TITLE=[LogColor.BRIGHT];LogStyle.TYPE_ERROR=[LogColor.BRIGHT,LogColor.B_RED];LogStyle.TYPE_INFO=[LogColor.B_BLUE];LogStyle.TYPE_NORMAL=[LogColor.BRIGHT];LogStyle.TYPE_SUCCESS=[LogColor.F_BLACK,LogColor.B_GREEN];LogStyle.TYPE_WARNING=[LogColor.F_BLACK,LogColor.B_YELLOW];LogStyle.XHR=[LogColor.F_GREEN];\n\n//# sourceURL=webpack://cordova/./src/back/util/logger.ts?");

/***/ }),

/***/ "./src/back/util/setting.ts":
/*!**********************************!*\
  !*** ./src/back/util/setting.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("var _interopRequireDefault=__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports, \"__esModule\", ({value:true}));exports.SETTINGS=exports.CLOTHES=void 0;exports.fileInBuild=fileInBuild;exports.fileInPublic=fileInPublic;exports.schedule=schedule;exports.writeClientConstants=writeClientConstants;var _objectDestructuringEmpty2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/objectDestructuringEmpty */ \"@babel/runtime/helpers/objectDestructuringEmpty\"));var _utility=__webpack_require__(/*! ./utility */ \"./src/back/util/utility.ts\");var _fs=_interopRequireDefault(__webpack_require__(/*! fs */ \"fs\"));var _path=_interopRequireDefault(__webpack_require__(/*! path */ \"path\"));var _ref;function getBoolean(name){return process.argv.includes(name);}var CLOTHES={development:!getBoolean(\"-remote\")};exports.CLOTHES=CLOTHES;var SETTINGS=(_ref=(0,_utility.merge)({},CLOTHES.development?JSON.parse(fileInPublic(\"settings/settings.dev.json\").toString()):JSON.parse(fileInPublic(\"settings/settings.json\").toString())),(0,_objectDestructuringEmpty2.default)(_ref),_ref);exports.SETTINGS=SETTINGS;function fileInPublic(file){return _fs.default.readFileSync(_path.default.resolve(__dirname,\"../public/\"+file));}function fileInBuild(file){return _fs.default.readFileSync(_path.default.resolve(__dirname,\"./\"+file));}function writeClientConstants(){var data=JSON.stringify((0,_utility.pick)(SETTINGS,\"host\",\"board\",\"follow\",\"block\",\"extension\"));_fs.default.writeFileSync(_path.default.resolve(__dirname,\"constants.js\"),`window.__CLIENT_SETTINGS=${data}`);}function schedule(callback,interval,options){if(options!=null&&options.callAtStart){callback();}if(options!=null&&options.punctual){var now=Date.now()+_utility.TIMEZONE_OFFSET;var gap=(1+Math.floor(now/interval))*interval-now;global.setTimeout(function(){callback();global.setInterval(callback,interval);},gap);}else{global.setInterval(callback,interval);}}\n\n//# sourceURL=webpack://cordova/./src/back/util/setting.ts?");

/***/ }),

/***/ "./src/back/util/utility.ts":
/*!**********************************!*\
  !*** ./src/back/util/utility.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("var _interopRequireDefault=__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports, \"__esModule\", ({value:true}));exports.FRONT=exports.CLIENT_SETTINGS=void 0;exports.Iterator=Iterator;exports.TIMEZONE_OFFSET=exports.REGEXP_LANGUAGE_ARGS=void 0;exports.cut=cut;exports.enumToArray=enumToArray;exports.merge=merge;exports.pick=pick;exports.reduceToTable=reduceToTable;exports.resolveLanguageArguments=resolveLanguageArguments;exports.toSignedString=toSignedString;var _slicedToArray2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"@babel/runtime/helpers/slicedToArray\"));var _unitDate=__webpack_require__(/*! common/unitDate */ \"./src/common/unitDate.ts\");var CLIENT_SETTINGS=\"FRONT\"in Object&&eval(\"window.__CLIENT_SETTINGS\");exports.CLIENT_SETTINGS=CLIENT_SETTINGS;var FRONT=Boolean(CLIENT_SETTINGS);exports.FRONT=FRONT;var REGEXP_LANGUAGE_ARGS=/\\{#(\\d+?)\\}/g;exports.REGEXP_LANGUAGE_ARGS=REGEXP_LANGUAGE_ARGS;var TIMEZONE_OFFSET=new Date().getTimezoneOffset()*_unitDate.UnitDate.MINUTE;exports.TIMEZONE_OFFSET=TIMEZONE_OFFSET;function Iterator(length,fill){return Array(length).fill(fill);}function cut(text,limit){return text.length>limit?`${text.slice(0,limit-1)}`:text;}function merge(target){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}for(var _v of args){for(var _ref of Object.entries(_v)){var _ref2=(0,_slicedToArray2.default)(_ref,2);var k=_ref2[0];var w=_ref2[1];if(typeof target[k]===\"object\"&&typeof w===\"object\"&&w!=null){merge(target[k],w);}else{target[k]=w;}}}return target;}function pick(object){for(var _len2=arguments.length,keys=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){keys[_key2-1]=arguments[_key2];}return keys.reduce(function(pv,v){if(v in object){pv[v]=object[v];}return pv;},{});}function reduceToTable(target,placer,keyPlacer){return target.reduce(keyPlacer?function(pv,v,i,my){pv[keyPlacer(v,i,my)]=placer(v,i,my);return pv;}:function(pv,v,i,my){pv[String(v)]=placer(v,i,my);return pv;},{});}function enumToArray(target){return Object.keys(target).filter(function(i){return isNaN(Number(i));});}function resolveLanguageArguments(text){for(var _len3=arguments.length,args=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++){args[_key3-1]=arguments[_key3];}return text.replace(REGEXP_LANGUAGE_ARGS,function(_,v1){return args[v1];});}function toSignedString(value){return(value>0?\"+\":\"\")+value;}\n\n//# sourceURL=webpack://cordova/./src/back/util/utility.ts?");

/***/ }),

/***/ "./src/common/applicationCode.ts":
/*!***************************************!*\
  !*** ./src/common/applicationCode.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("Object.defineProperty(exports, \"__esModule\", ({value:true}));exports.ErrorCode=exports.BOARD_CATEGORY=void 0;var ErrorCode=function(ErrorCode){ErrorCode[ErrorCode[\"follow_self\"]=0]=\"follow_self\";ErrorCode[ErrorCode[\"max_friends\"]=1]=\"max_friends\";ErrorCode[ErrorCode[\"follow_failed\"]=2]=\"follow_failed\";ErrorCode[ErrorCode[\"unfollow_failed\"]=3]=\"unfollow_failed\";ErrorCode[ErrorCode[\"block_add_failed\"]=4]=\"block_add_failed\";ErrorCode[ErrorCode[\"block_delete_failed\"]=5]=\"block_delete_failed\";ErrorCode[ErrorCode[\"block_already\"]=6]=\"block_already\";ErrorCode[ErrorCode[\"block_self\"]=7]=\"block_self\";ErrorCode[ErrorCode[\"max_blocks\"]=8]=\"max_blocks\";ErrorCode[ErrorCode[\"user_unfound\"]=9]=\"user_unfound\";ErrorCode[ErrorCode[\"user_find_failed\"]=10]=\"user_find_failed\";ErrorCode[ErrorCode[\"user_save_failed\"]=11]=\"user_save_failed\";ErrorCode[ErrorCode[\"board_delete_failed\"]=12]=\"board_delete_failed\";ErrorCode[ErrorCode[\"board_update_failed\"]=13]=\"board_update_failed\";ErrorCode[ErrorCode[\"board_update_bad_request\"]=14]=\"board_update_bad_request\";ErrorCode[ErrorCode[\"board_insert_failed\"]=15]=\"board_insert_failed\";ErrorCode[ErrorCode[\"board_find_failed\"]=16]=\"board_find_failed\";ErrorCode[ErrorCode[\"board_like_delete_failed\"]=17]=\"board_like_delete_failed\";ErrorCode[ErrorCode[\"board_like_insert_failed\"]=18]=\"board_like_insert_failed\";ErrorCode[ErrorCode[\"board_like_increment\"]=19]=\"board_like_increment\";ErrorCode[ErrorCode[\"board_like_decrement\"]=20]=\"board_like_decrement\";ErrorCode[ErrorCode[\"comment_unfound\"]=21]=\"comment_unfound\";ErrorCode[ErrorCode[\"comment_insert_failed\"]=22]=\"comment_insert_failed\";ErrorCode[ErrorCode[\"comment_update_failed\"]=23]=\"comment_update_failed\";ErrorCode[ErrorCode[\"comment_update_bad_request\"]=24]=\"comment_update_bad_request\";ErrorCode[ErrorCode[\"comment_delete_failed\"]=25]=\"comment_delete_failed\";ErrorCode[ErrorCode[\"comment_like_delete_failed\"]=26]=\"comment_like_delete_failed\";ErrorCode[ErrorCode[\"comment_like_insert_failed\"]=27]=\"comment_like_insert_failed\";ErrorCode[ErrorCode[\"comment_like_increment\"]=28]=\"comment_like_increment\";ErrorCode[ErrorCode[\"comment_like_decrement\"]=29]=\"comment_like_decrement\";ErrorCode[ErrorCode[\"tag_find_failed\"]=30]=\"tag_find_failed\";ErrorCode[ErrorCode[\"tag_update_failed\"]=31]=\"tag_update_failed\";ErrorCode[ErrorCode[\"tag_save_failed\"]=32]=\"tag_save_failed\";ErrorCode[ErrorCode[\"url_find_failed\"]=33]=\"url_find_failed\";ErrorCode[ErrorCode[\"urltagcount_save_failed\"]=34]=\"urltagcount_save_failed\";ErrorCode[ErrorCode[\"urltagcount_update_failed\"]=35]=\"urltagcount_update_failed\";ErrorCode[ErrorCode[\"follow_find_failed\"]=36]=\"follow_find_failed\";ErrorCode[ErrorCode[\"follow_recommend_find_failed\"]=37]=\"follow_recommend_find_failed\";return ErrorCode;}({});exports.ErrorCode=ErrorCode;var BOARD_CATEGORY=function(BOARD_CATEGORY){BOARD_CATEGORY[BOARD_CATEGORY[\"myBoards\"]=0]=\"myBoards\";BOARD_CATEGORY[BOARD_CATEGORY[\"myUpBoards\"]=1]=\"myUpBoards\";BOARD_CATEGORY[BOARD_CATEGORY[\"tagBoards\"]=2]=\"tagBoards\";BOARD_CATEGORY[BOARD_CATEGORY[\"urlBoards\"]=3]=\"urlBoards\";BOARD_CATEGORY[BOARD_CATEGORY[\"boards\"]=4]=\"boards\";BOARD_CATEGORY[BOARD_CATEGORY[\"searchBoards\"]=5]=\"searchBoards\";BOARD_CATEGORY[BOARD_CATEGORY[\"userBoards\"]=6]=\"userBoards\";return BOARD_CATEGORY;}({});exports.BOARD_CATEGORY=BOARD_CATEGORY;\n\n//# sourceURL=webpack://cordova/./src/common/applicationCode.ts?");

/***/ }),

/***/ "./src/common/unitDate.ts":
/*!********************************!*\
  !*** ./src/common/unitDate.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, exports) => {

eval("Object.defineProperty(exports, \"__esModule\", ({value:true}));exports.UnitDate=exports.DayOfWeek=void 0;var UnitDate=function(UnitDate){UnitDate[UnitDate[\"MILLISECOND\"]=1]=\"MILLISECOND\";UnitDate[UnitDate[\"SECOND\"]=1000]=\"SECOND\";UnitDate[UnitDate[\"MINUTE\"]=60000]=\"MINUTE\";UnitDate[UnitDate[\"HOUR\"]=3600000]=\"HOUR\";UnitDate[UnitDate[\"DAY\"]=86400000]=\"DAY\";UnitDate[UnitDate[\"WEEK\"]=604800000]=\"WEEK\";UnitDate[UnitDate[\"MONTH\"]=2629743840]=\"MONTH\";UnitDate[UnitDate[\"YEAR\"]=31556926080]=\"YEAR\";return UnitDate;}({});exports.UnitDate=UnitDate;var DayOfWeek=function(DayOfWeek){DayOfWeek[DayOfWeek[\"SUN\"]=0]=\"SUN\";DayOfWeek[DayOfWeek[\"MON\"]=1]=\"MON\";DayOfWeek[DayOfWeek[\"TUE\"]=2]=\"TUE\";DayOfWeek[DayOfWeek[\"WED\"]=3]=\"WED\";DayOfWeek[DayOfWeek[\"THU\"]=4]=\"THU\";DayOfWeek[DayOfWeek[\"FRI\"]=5]=\"FRI\";DayOfWeek[DayOfWeek[\"SAT\"]=6]=\"SAT\";return DayOfWeek;}({});exports.DayOfWeek=DayOfWeek;\n\n//# sourceURL=webpack://cordova/./src/common/unitDate.ts?");

/***/ }),

/***/ "./src/front/@lib/Language.tsx":
/*!*************************************!*\
  !*** ./src/front/@lib/Language.tsx ***!
  \*************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("var _interopRequireDefault=__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports, \"__esModule\", ({value:true}));exports.getHumanSeconds=exports.getHumanNumber=exports.getHumanMinutes=exports.getHumanDigitalSpace=exports[\"default\"]=exports.UnitDate=exports.DayOfWeek=void 0;exports.getHumanTimeDistance=getHumanTimeDistance;exports.getTimeDistance=getTimeDistance;exports.setTable=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"@babel/runtime/helpers/toConsumableArray\"));var _classCallCheck2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"@babel/runtime/helpers/createClass\"));var _react=_interopRequireDefault(__webpack_require__(/*! react */ \"react\"));var _util=__webpack_require__(/*! ./util */ \"./src/front/@lib/util.ts\");var _this=this,_jsxFileName=\"C:\\\\Users\\\\OASIS\\\\Documents\\\\programming\\\\corner-sns\\\\app\\\\src\\\\front\\\\@lib\\\\Language.tsx\";var TABLE=_util.FRONT&&eval(\"window.__LANGUAGE\");var PATTERN_RESOLVER={BR:function BR(key){return _react.default.createElement(\"br\",{key:key,__self:_this,__source:{fileName:_jsxFileName,lineNumber:11,columnNumber:20}});},L:function L(key,className,data){return _react.default.createElement(\"label\",{key:key,className:className,__self:_this,__source:{fileName:_jsxFileName,lineNumber:12,columnNumber:36}},data);},REF:function REF(key,name){for(var _len=arguments.length,args=new Array(_len>2?_len-2:0),_key=2;_key<_len;_key++){args[_key-2]=arguments[_key];}return _react.default.createElement(_react.default.Fragment,{key:key,__self:_this,__source:{fileName:_jsxFileName,lineNumber:13,columnNumber:36}},L.render.apply(L,[name].concat(args)));},HUMAN_D:function HUMAN_D(key,data){return _react.default.createElement(_react.default.Fragment,{key:key,__self:_this,__source:{fileName:_jsxFileName,lineNumber:15,columnNumber:31}},getHumanDigitalSpace(Number(data)));},HUMAN_M:function HUMAN_M(key,data){return _react.default.createElement(_react.default.Fragment,{key:key,__self:_this,__source:{fileName:_jsxFileName,lineNumber:16,columnNumber:31}},getHumanMinutes(Number(data)));},HUMAN_N:function HUMAN_N(key,data){return _react.default.createElement(_react.default.Fragment,{key:key,__self:_this,__source:{fileName:_jsxFileName,lineNumber:17,columnNumber:31}},getHumanNumber(Number(data)));}};var setTable=function setTable(table){TABLE=Object.assign({},table);};exports.setTable=setTable;var L=function(){function L(){(0,_classCallCheck2.default)(this,L);}(0,_createClass2.default)(L,null,[{key:\"get\",value:function get(key){for(var _len2=arguments.length,args=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){args[_key2-1]=arguments[_key2];}var R=TABLE[key];if(!R)return`(L#${key})`;return R.replace(L.REGEXP_PATTERN,\"\").replace(L.REGEXP_ARGS,function(p,v1){return args[v1];});}},{key:\"render\",value:function render(key){if(TABLE[key]){for(var _len3=arguments.length,args=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++){args[_key3-1]=arguments[_key3];}return L.parse.apply(L,[TABLE[key]].concat(args));}return`(L#${key})`;}},{key:\"parse\",value:function parse(value){for(var _len4=arguments.length,args=new Array(_len4>1?_len4-1:0),_key4=1;_key4<_len4;_key4++){args[_key4-1]=arguments[_key4];}var R=[];var PATTERN=new RegExp(L.REGEXP_PATTERN);var blockBank=[];var execArray;var prevIndex=0;value=value.replace(L.REGEXP_STRICT_ARGS,function(p,v1){return args[v1];}).replace(L.REGEXP_ARGS,function(p,v1){blockBank.push(args[v1]);return\"<{__}>\";});while(execArray=PATTERN.exec(value)){if(execArray.index-prevIndex>0){R.push(value.slice(prevIndex,execArray.index));}if(execArray[1]===\"__\"){R.push(blockBank.shift());}else{R.push(PATTERN_RESOLVER[execArray[1]].apply(PATTERN_RESOLVER,[R.length].concat((0,_toConsumableArray2.default)(execArray[2]?execArray[2].split(\"|\"):[]))));}prevIndex=PATTERN.lastIndex;}if(prevIndex<value.length){R.push(value.slice(prevIndex));}return _react.default.createElement(_react.default.Fragment,null,R);}}]);return L;}();exports[\"default\"]=L;L.REGEXP_PATTERN=/<\\{(\\w+?)(?:\\|(.+?))?\\}>/g;L.REGEXP_ARGS=/\\{#(\\d+?)\\}/g;L.REGEXP_STRICT_ARGS=/\\{##(\\d+?)\\}/g;var getHumanDigitalSpace=function getHumanDigitalSpace(bytes){if(bytes<1024)return`${bytes} B`;if(bytes<1048576)return`${(bytes/1024).toFixed(2)} KiB`;if(bytes<1073741824)return`${(bytes/1048576).toFixed(2)} MiB`;return`${(bytes/1073741824).toFixed(2)} GiB`;};exports.getHumanDigitalSpace=getHumanDigitalSpace;var getHumanSeconds=function getHumanSeconds(seconds){return`${Math.floor(seconds/60)}:${String(Math.floor(seconds%60)).padStart(2,\"0\")}`;};exports.getHumanSeconds=getHumanSeconds;var getHumanMinutes=function getHumanMinutes(minutes){if(minutes<1)return L.get(\"MINUTES_0\");minutes=Math.round(minutes);if(minutes<60)return L.get(\"MINUTES_1\",minutes);if(minutes<1440)return L.get(\"MINUTES_2\",Math.floor(minutes/60),minutes%60);if(minutes<43800)return L.get(\"MINUTES_3\",Math.floor(minutes/1440),Math.round(minutes%1440/60));return L.get(\"MINUTES_4\",Math.floor(minutes/43800),Math.round(minutes%43800/1440));};exports.getHumanMinutes=getHumanMinutes;var getHumanNumber=function getHumanNumber(number){if(number<1e3)return String(number);var exp=Math.floor(number).toString().length;var digit=2-(exp-1)%3;if(number<1e6)return`${(number*1e-3).toFixed(digit)}k`;if(number<1e9)return`${(number*1e-6).toFixed(digit)}M`;if(number<1e12)return`${(number*1e-9).toFixed(digit)}G`;if(number<1e15)return`${(number*1e-12).toFixed(digit)}T`;return`${(number*1e-15).toFixed(0)}P`;};exports.getHumanNumber=getHumanNumber;function getTimeDistance(from){var to=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Date.now();return(to-from)/UnitDate.MINUTE;}function getHumanTimeDistance(from){var to=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Date.now();var distance=getTimeDistance(from,to);return distance>-30?L.render(\"TIME_DISTANCE_PAST\",distance):L.render(\"TIME_DISTANCE_FUTURE\",-distance);}var UnitDate=function(UnitDate){UnitDate[UnitDate[\"MILLISECOND\"]=1]=\"MILLISECOND\";UnitDate[UnitDate[\"SECOND\"]=1000]=\"SECOND\";UnitDate[UnitDate[\"MINUTE\"]=60000]=\"MINUTE\";UnitDate[UnitDate[\"HOUR\"]=3600000]=\"HOUR\";UnitDate[UnitDate[\"DAY\"]=86400000]=\"DAY\";UnitDate[UnitDate[\"WEEK\"]=604800000]=\"WEEK\";UnitDate[UnitDate[\"MONTH\"]=2629743840]=\"MONTH\";UnitDate[UnitDate[\"YEAR\"]=31556926080]=\"YEAR\";return UnitDate;}({});exports.UnitDate=UnitDate;var DayOfWeek=function(DayOfWeek){DayOfWeek[DayOfWeek[\"SUN\"]=0]=\"SUN\";DayOfWeek[DayOfWeek[\"MON\"]=1]=\"MON\";DayOfWeek[DayOfWeek[\"TUE\"]=2]=\"TUE\";DayOfWeek[DayOfWeek[\"WED\"]=3]=\"WED\";DayOfWeek[DayOfWeek[\"THU\"]=4]=\"THU\";DayOfWeek[DayOfWeek[\"FRI\"]=5]=\"FRI\";DayOfWeek[DayOfWeek[\"SAT\"]=6]=\"SAT\";return DayOfWeek;}({});exports.DayOfWeek=DayOfWeek;\n\n//# sourceURL=webpack://cordova/./src/front/@lib/Language.tsx?");

/***/ }),

/***/ "./src/front/@lib/util.ts":
/*!********************************!*\
  !*** ./src/front/@lib/util.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, exports) => {

eval("Object.defineProperty(exports, \"__esModule\", ({value:true}));exports.userKey=exports.extension=exports.PROPS=exports.FRONT=exports.CLIENT_SETTINGS=void 0;var CLIENT_SETTINGS=\"FRONT\"in Object&&eval(\"window['__CLIENT_SETTINGS']\");exports.CLIENT_SETTINGS=CLIENT_SETTINGS;var FRONT=Boolean(CLIENT_SETTINGS);exports.FRONT=FRONT;var PROPS=FRONT&&eval(\"window['__PROPS']\");exports.PROPS=PROPS;var extension=FRONT&&PROPS.data.ext;exports.extension=extension;var userKey=FRONT&&PROPS.data.userKey;exports.userKey=userKey;\n\n//# sourceURL=webpack://cordova/./src/front/@lib/util.ts?");

/***/ }),

/***/ "@babel/runtime/helpers/applyDecoratedDescriptor":
/*!******************************************************************!*\
  !*** external "@babel/runtime/helpers/applyDecoratedDescriptor" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@babel/runtime/helpers/applyDecoratedDescriptor");

/***/ }),

/***/ "@babel/runtime/helpers/asyncToGenerator":
/*!**********************************************************!*\
  !*** external "@babel/runtime/helpers/asyncToGenerator" ***!
  \**********************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@babel/runtime/helpers/asyncToGenerator");

/***/ }),

/***/ "@babel/runtime/helpers/classCallCheck":
/*!********************************************************!*\
  !*** external "@babel/runtime/helpers/classCallCheck" ***!
  \********************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@babel/runtime/helpers/classCallCheck");

/***/ }),

/***/ "@babel/runtime/helpers/createClass":
/*!*****************************************************!*\
  !*** external "@babel/runtime/helpers/createClass" ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@babel/runtime/helpers/createClass");

/***/ }),

/***/ "@babel/runtime/helpers/defineProperty":
/*!********************************************************!*\
  !*** external "@babel/runtime/helpers/defineProperty" ***!
  \********************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@babel/runtime/helpers/defineProperty");

/***/ }),

/***/ "@babel/runtime/helpers/initializerDefineProperty":
/*!*******************************************************************!*\
  !*** external "@babel/runtime/helpers/initializerDefineProperty" ***!
  \*******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@babel/runtime/helpers/initializerDefineProperty");

/***/ }),

/***/ "@babel/runtime/helpers/initializerWarningHelper":
/*!******************************************************************!*\
  !*** external "@babel/runtime/helpers/initializerWarningHelper" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@babel/runtime/helpers/initializerWarningHelper");

/***/ }),

/***/ "@babel/runtime/helpers/interopRequireDefault":
/*!***************************************************************!*\
  !*** external "@babel/runtime/helpers/interopRequireDefault" ***!
  \***************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@babel/runtime/helpers/interopRequireDefault");

/***/ }),

/***/ "@babel/runtime/helpers/objectDestructuringEmpty":
/*!******************************************************************!*\
  !*** external "@babel/runtime/helpers/objectDestructuringEmpty" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@babel/runtime/helpers/objectDestructuringEmpty");

/***/ }),

/***/ "@babel/runtime/helpers/slicedToArray":
/*!*******************************************************!*\
  !*** external "@babel/runtime/helpers/slicedToArray" ***!
  \*******************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@babel/runtime/helpers/slicedToArray");

/***/ }),

/***/ "@babel/runtime/helpers/toConsumableArray":
/*!***********************************************************!*\
  !*** external "@babel/runtime/helpers/toConsumableArray" ***!
  \***********************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@babel/runtime/helpers/toConsumableArray");

/***/ }),

/***/ "accept-language-parser":
/*!*****************************************!*\
  !*** external "accept-language-parser" ***!
  \*****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("accept-language-parser");

/***/ }),

/***/ "cookie-parser":
/*!********************************!*\
  !*** external "cookie-parser" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("cookie-parser");

/***/ }),

/***/ "cors":
/*!***********************!*\
  !*** external "cors" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("cors");

/***/ }),

/***/ "express":
/*!**************************!*\
  !*** external "express" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("express");

/***/ }),

/***/ "express-session":
/*!**********************************!*\
  !*** external "express-session" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = require("express-session");

/***/ }),

/***/ "express-static-gzip":
/*!**************************************!*\
  !*** external "express-static-gzip" ***!
  \**************************************/
/***/ ((module) => {

"use strict";
module.exports = require("express-static-gzip");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "typeorm":
/*!**************************!*\
  !*** external "typeorm" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("typeorm");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/create fake namespace object */
/******/ 	(() => {
/******/ 		var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);
/******/ 		var leafPrototypes;
/******/ 		// create a fake namespace object
/******/ 		// mode & 1: value is a module id, require it
/******/ 		// mode & 2: merge all properties of value into the ns
/******/ 		// mode & 4: return value when already ns object
/******/ 		// mode & 16: return value when it's Promise-like
/******/ 		// mode & 8|1: behave like require
/******/ 		__webpack_require__.t = function(value, mode) {
/******/ 			if(mode & 1) value = this(value);
/******/ 			if(mode & 8) return value;
/******/ 			if(typeof value === 'object' && value) {
/******/ 				if((mode & 4) && value.__esModule) return value;
/******/ 				if((mode & 16) && typeof value.then === 'function') return value;
/******/ 			}
/******/ 			var ns = Object.create(null);
/******/ 			__webpack_require__.r(ns);
/******/ 			var def = {};
/******/ 			leafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];
/******/ 			for(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {
/******/ 				Object.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));
/******/ 			}
/******/ 			def['default'] = () => (value);
/******/ 			__webpack_require__.d(ns, def);
/******/ 			return ns;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/back/main.ts");
/******/ 	
/******/ })()
;